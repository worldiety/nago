import{c as r,o as l,b as R,d as j,u as z,I as m,r as A,g as p,K as a,w as y,a as d,v as f,x as P,y as C,j as W,h as b,e as F,J as U,t as L,U as g,f as v}from"./main-BcMyeB6u.js";import{i as q,_ as G}from"./InputWrapper.vue_vue_type_style_index_0_lang-pctbeGJF.js";import{f as J}from"./frame-BbkKW3a9.js";import"./closeBold-Cg7PO-Go.js";import"./length-BB7nP2nm.js";const H={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",viewBox:"0 0 24 24"};function Q(x,e){return l(),r("svg",H,e[0]||(e[0]=[R("path",{fill:"currentColor",d:"M23.25 23.999a.743.743 0 0 1-.53-.22L12 13.06 1.28 23.779a.744.744 0 0 1-1.06 0 .752.752 0 0 1 0-1.061l10.72-10.72L.22 1.279C.078 1.138 0 .949 0 .749S.078.36.22.219c.141-.142.33-.22.53-.22s.389.078.53.22L12 10.938 22.72.218a.744.744 0 0 1 1.06 0 .747.747 0 0 1 0 1.061l-10.72 10.72 10.72 10.72a.752.752 0 0 1 0 1.061.746.746 0 0 1-.53.219"},null,-1)]))}const X={render:Q},Y={class:"relative"},Z=["id","disabled","inputmode"],ee=["id","disabled","rows"],re=j({__name:"UiTextField",props:{ui:{}},setup(x){const e=x,c=z(),k=m("leadingElement"),h=m("trailingElement"),w=m("clearButton"),i=A(e.ui.value?e.ui.value:"");let E=0;const D=p(()=>J(e.ui.frame).join(";")),T=p(()=>e.ui.id?e.ui.id:"tf-"+e.ui.inputValue),M=p(()=>{var t;switch((t=e.ui.keyboardOptions)==null?void 0:t.keyboardType){case a.KeyboardInteger:return"numeric";case a.KeyboardFloat:return"decimal";case a.KeyboardEMail:return"email";case a.KeyboardPhone:return"tel";case a.KeyboardURL:return"url";case a.KeyboardSearch:return"search"}return"text"}),K=p(()=>{var I,S,_;const t=(I=k.value)==null?void 0:I.offsetWidth,n=t?"".concat(t,"px"):"auto";let u;const o=(S=h.value)==null?void 0:S.offsetWidth;if(o!==void 0)u="".concat(o,"px");else{const B=(_=w.value)==null?void 0:_.offsetWidth;u=B?"".concat(B,"px"):"auto"}return{"padding-left":n,"padding-right":u}});y(i,(t,n)=>{var u,o;if(t!=n){if(((u=e.ui.keyboardOptions)==null?void 0:u.keyboardType)==a.KeyboardInteger){t===""||t==="-"?i.value="0":t.match(/^-?[0-9]+$/)||(i.value=n);return}if(((o=e.ui.keyboardOptions)==null?void 0:o.keyboardType)==a.KeyboardFloat){t===""||t==="-"?i.value="0":t.match(/^[+-]?(\d+(\.\d*)?|\.\d+)$/)||(i.value=n);return}}}),y(()=>e.ui.value,t=>{t?i.value=t:i.value=""}),y(()=>e.ui,t=>{t.value?i.value=t.value:i.value=""});function V(t){e.ui.keydownEnter&&(t.stopPropagation(),c.sendEvent(new g(e.ui.inputValue,e.ui.keydownEnter,v(),i.value)))}function s(t){if(i.value!=e.ui.value){if(v(),t||e.ui.disableDebounce){c.sendEvent(new g(e.ui.inputValue,0,v(),i.value));return}O()}}function $(){i.value="",s(!0)}function N(t){return t/1e6}function O(){let t=500;e.ui.debounceTime&&e.ui.debounceTime>0&&(t=N(e.ui.debounceTime)),clearTimeout(E),E=window.setTimeout(()=>{i.value!=e.ui.value&&c.sendEvent(new g(e.ui.inputValue,0,v(),i.value))},t)}return(t,n)=>t.ui.invisible?d("",!0):(l(),r("div",{key:0,style:b(D.value)},[f(G,{"wrapper-style":L(q)(e.ui.style),label:e.ui.label,error:e.ui.errorText,help:e.ui.supportingText,disabled:e.ui.disabled},{default:P(()=>[R("div",Y,[e.ui.leading?(l(),r("div",{key:0,ref_key:"leadingElement",ref:k,class:"absolute inset-y-0 left-0 pl-2 pr-1 flex items-center pointer-events-none"},[f(W,{ui:e.ui.leading},null,8,["ui"])],512)):d("",!0),e.ui.lines?d("",!0):C((l(),r("input",{key:1,onKeydown:F(V,["enter"]),id:T.value,"onUpdate:modelValue":n[0]||(n[0]=u=>i.value=u),class:"input-field",style:b(K.value),disabled:e.ui.disabled,type:"text",inputmode:M.value,onFocusout:n[1]||(n[1]=u=>s(!0)),onInput:n[2]||(n[2]=u=>s(!1))},null,44,Z)),[[U,i.value]]),e.ui.lines?C((l(),r("textarea",{key:2,id:T.value,"onUpdate:modelValue":n[3]||(n[3]=u=>i.value=u),class:"input-field",style:b(K.value),disabled:e.ui.disabled,type:"text",rows:e.ui.lines,onFocusout:n[4]||(n[4]=u=>s(!0)),onInput:n[5]||(n[5]=u=>s(!1))},null,44,ee)),[[U,i.value]]):d("",!0),e.ui.trailing?(l(),r("div",{key:3,ref_key:"trailingElement",ref:h,class:"absolute inset-y-0 right-0 pr-2 pl-1 flex items-center pointer-events-none"},[f(W,{ui:e.ui.trailing},null,8,["ui"])],512)):i.value&&!e.ui.disabled&&!e.ui.lines?(l(),r("div",{key:4,ref_key:"clearButton",ref:w,class:"absolute inset-y-0 right-0 pr-2 pl-1 flex items-center"},[f(L(X),{class:"w-4",tabindex:"-1",onClick:$,onKeydown:F($,["enter"])})],512)):d("",!0)])]),_:1},8,["wrapper-style","label","error","help","disabled"])],4))}});export{re as default};
