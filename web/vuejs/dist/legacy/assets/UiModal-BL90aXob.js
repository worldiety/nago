import{d as T,r as _,m as S,q as m,s as V,g as $,c as x,i as l,o as a,t as D,v as y,x as F,y as K,b as v,h as N,j as h,z as O,T as j,B as w,a as q,C as r,e as b}from"./main-BcMyeB6u.js";import{c as u}from"./length-BB7nP2nm.js";let s=0;function z(){s===0&&(document.body.style.overflow="hidden"),s++}function E(){s=Math.max(0,s-1),s===0&&(document.body.style.overflow="visible")}const U={key:0},A=["onKeydown"],G=T({__name:"UiModal",props:{ui:{}},setup(g){const o=g,c=_();let t,n;S(()=>{o.ui.allowBackgroundScrolling||z(),o.ui.modalType!==m.ModalTypeOverlay&&M()}),V(()=>{o.ui.allowBackgroundScrolling||E()});const k=$(()=>{const e=[];return o.ui.right&&e.push("right: ".concat(u(o.ui.right))),o.ui.top&&e.push("top: ".concat(u(o.ui.top))),o.ui.left&&e.push("left: ".concat(u(o.ui.left))),o.ui.bottom&&e.push("bottom: ".concat(u(o.ui.bottom))),e.join(";")});function M(){var d,p;const e=(p=(d=c.value)==null?void 0:d.querySelectorAll('[tabindex="0"], button:not([tabindex="-1"])'))!=null?p:[],i=e[0],f=e[e.length-1];i&&(t=i,t.focus()),f&&(n=f)}function B(e){if(!e.shiftKey&&document.activeElement===n){e.preventDefault(),t==null||t.focus();return}}function C(e){if(document.activeElement===t){e.preventDefault(),n==null||n.focus();return}}return(e,i)=>e.ui.content?e.ui.modalType==D(m).ModalTypeOverlay?(a(),l(w,{key:1,to:"#ora-overlay"},[y(j,null,{default:F(()=>[K(v("div",{class:"pointer-events-auto fixed",style:N(k.value)},[y(h,{ui:e.ui.content,class:""},null,8,["ui"])],4),[[O,e.ui.content]])]),_:1})])):(a(),l(w,{key:2,to:"#ora-modals"},[v("div",{ref_key:"dialogContainer",ref:c,class:"pointer-events-auto fixed",onKeydown:[b(r(B,["exact"]),["tab"]),b(r(C,["shift"]),["tab"])]},[e.ui.content?(a(),l(h,{key:0,ui:e.ui.content,class:"h-screen w-screen",onClick:i[0]||(i[0]=r(()=>{},["stop"]))},null,8,["ui"])):q("",!0)],40,A)])):(a(),x("div",U))}});export{G as default};
