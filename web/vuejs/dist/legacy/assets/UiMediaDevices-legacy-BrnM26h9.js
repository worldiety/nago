System.register(["./main-legacy-Bi_OSHdZ.js"],function(e,i){"use strict";var t,u,n,a,r,s,o,d,c,v;return{setters:[e=>{t=e.d,u=e.u,n=e.r,a=e.m,r=e.c,s=e.o,o=e.U,d=e.f,c=e.M,v=e.p}],execute:function(){e("default",t({__name:"UiMediaDevices",props:{ui:{}},setup(e){const i=e,t=u(),p=n([]),l=n(!1);function w(e){if(!e.label||!e.deviceId||!e.groupId)return!1;switch(e.kind){case"audioinput":case"audiooutput":return i.ui.withAudio??!1;case"videoinput":return i.ui.withVideo??!1}}function f(e){return new c(e.deviceId,e.groupId,e.label,function(e){switch(e.kind){case"audioinput":return v.AudioInput;case"audiooutput":return v.AudioOutput;case"videoinput":return v.VideoInput}}(e))}return a(async()=>{await async function(){try{await navigator.mediaDevices.getUserMedia({audio:i.ui.withAudio??!1,video:i.ui.withVideo??!1}),l.value=!0}catch(e){l.value=!1,console.warn("Couldn't get requested permissions",e)}t.sendEvent(new o(i.ui.hasGrantedPermissions,0,d(),String(l.value)))}(),l.value&&await async function(){const e=await navigator.mediaDevices.enumerateDevices();p.value=e.filter(w).map(f);const u=JSON.stringify(p.value);t.sendEvent(new o(i.ui.inputValue,0,d(),u))}()}),(e,i)=>(s(),r("div"))}}))}}});
