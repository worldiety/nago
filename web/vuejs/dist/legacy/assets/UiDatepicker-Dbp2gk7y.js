import{c as m,o as g,b as l,d as ae,u as ie,G as te,r as E,w as Y,g as N,i as ce,t as ve,a as j,F as B,z as F,k as K,E as _,e as P,s as R,q as I,J as de,f as Q,U as le,L as fe,N as pe,v as re,P as he,H as ye,n as se,D as ge,_ as me,m as De,Q as ue,R as W,h as be}from"./main-OlLqyjhz.js";import{_ as Se}from"./InputWrapper.vue_vue_type_style_index_0_lang-CDJuEFq5.js";import{i as Ee}from"./index-MMdvg7RG.js";import{C as Me}from"./closeBold-DRbzRU0F.js";import{f as ke}from"./frame-BbkKW3a9.js";import"./index-Vcq4gwWv.js";import"./length-BB7nP2nm.js";const we={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function Ce(w,e){return g(),m("svg",we,e[0]||(e[0]=[l("path",{fill:"currentColor",d:"M7.5 10.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M12.5 10.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2M17.5 10.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2M7.5 14.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M12.5 14.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M17.5 14.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M7.5 18.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2M12.5 18.5h-1a1 1 0 0 0 0 2h1a1 1 0 1 0 0-2M17.5 18.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2"},null,-1),l("path",{fill:"currentColor",d:"M21.5 3h-2.75a.25.25 0 0 1-.25-.25V1a1 1 0 0 0-2 0v4.75a.75.75 0 1 1-1.5 0V3.5a.5.5 0 0 0-.5-.5H8.25A.25.25 0 0 1 8 2.751V1a1 1 0 1 0-2 0v4.75a.75.75 0 1 1-1.5 0V3.5A.5.5 0 0 0 4 3H2.5a2 2 0 0 0-2 2v17a2 2 0 0 0 2 2h19a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m0 18.5a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5v-12A.5.5 0 0 1 3 9h18a.5.5 0 0 1 .5.5Z"},null,-1)]))}const xe={render:Ce},Ie={class:"input-field relative z-0 !pr-10"},Te=["value","aria-label"],Oe=["value"],$e=["value","aria-label"],Ve=["value"],Le=["value","aria-label"],Ye=["value"],Be=["value"],Ne=["value"],_e=["value"],Ae=["value"],Fe={key:0,class:"text-placeholder-text"},Pe={class:"absolute top-0 bottom-0 right-4 flex items-center h-full"},Re=["aria-label"],ze=ae({__name:"DatepickerInput",props:{value:{},label:{},errorText:{},supportingText:{},disabled:{type:Boolean},datepickerStyle:{},datepickerExpanded:{type:Boolean},selectedStartYear:{},selectedStartMonth:{},selectedStartDay:{},selectedEndYear:{},selectedEndMonth:{},selectedEndDay:{},rangeMode:{type:Boolean},inputValue:{},endInputValue:{}},emits:["showDatepicker"],setup(w){const e=w,v=ie(),b=te("datepickerInputContainer"),o=E(e.selectedStartYear),c=E(D(e.selectedStartMonth)),h=E(D(e.selectedStartDay)),S=E(e.selectedEndYear),M=E(D(e.selectedEndMonth)),i=E(D(e.selectedEndDay));Y(()=>e.selectedStartYear,a=>{o.value=a}),Y(()=>e.selectedEndYear,a=>{S.value=a}),Y(()=>e.selectedStartMonth,a=>{c.value=D(a)}),Y(()=>e.selectedEndMonth,a=>{M.value=D(a)}),Y(()=>e.selectedStartDay,a=>{h.value=D(a)}),Y(()=>e.selectedEndDay,a=>{i.value=D(a)});const f=N(()=>new Date(o.value,parseInt(c.value,10),0,0,0,0,0).getDate()),x=N(()=>new Date(S.value,parseInt(M.value,10),0,0,0,0,0).getDate()),O=N(()=>!e.value||!e.value.year||(new Date().setFullYear(e.selectedStartYear,e.selectedStartMonth-1,e.selectedStartDay),!e.selectedStartYear||!(e.selectedStartMonth-1)||!e.selectedStartDay)?!1:e.rangeMode?!!(e.selectedEndYear&&e.selectedEndMonth-1&&e.selectedEndDay):!0),z=N(()=>e.rangeMode?"Zeitraumauswahldialog öffnen, ".concat(A.value):"Datumsauswahldialog öffnen, ".concat(A.value)),A=N(()=>{const a=new Date(o.value,parseInt(c.value,10)-1,parseInt(h.value,10),0,0,0,0);if(!e.rangeMode)return"Ausgewähltes Datum: ".concat(a.toLocaleDateString());const s=new Date(S.value,parseInt(M.value,10)-1,parseInt(i.value,10),0,0,0,0);return"Ausgewählter Zeitraum: ".concat(a.toLocaleDateString()," bis ").concat(s.toLocaleDateString())});function D(a){return Ee(a)&&(a=a.toString(10)),a.length===1?"0".concat(a):a}function J(a){a.target&&(h.value=a.target.value)}function U(a){a.target&&(i.value=a.target.value)}function Z(a){a.target&&(c.value=a.target.value,V())}function d(a){a.target&&(M.value=a.target.value,H())}function $(a){if(!a.target)return;const s=a.target.value;if(!/^[0-9]+$/.test(s))return;const u=parseInt(s,10);if(u<=1582){o.value=0,o.value=e.selectedStartYear;return}o.value=u,V(),L(a)}function q(a){if(!a.target)return;const s=a.target.value;if(!/^[0-9]+$/.test(s))return;const u=parseInt(s,10);if(u<=1582){S.value=0,S.value=e.selectedEndYear;return}S.value=u,H(),L(a)}function V(){parseInt(h.value,10)>f.value&&(h.value=D(f.value))}function H(){parseInt(i.value,10)>x.value&&(i.value=D(x.value))}function G(){if(!e.rangeMode)return!1;const a=new Date(o.value,parseInt(c.value,10),parseInt(h.value,10),0,0,0,0);return new Date(S.value,parseInt(M.value,10),parseInt(i.value,10),0,0,0,0)<a}function X(){const a=h.value,s=c.value,u=o.value;h.value=i.value,c.value=M.value,o.value=S.value,i.value=a,M.value=s,S.value=u}function L(a){var u;if(!a.relatedTarget)return;const s=a.relatedTarget;(u=b.value)!=null&&u.contains(s)||ee()}function ee(){G()&&X();const a=parseInt(h.value,10),s=parseInt(c.value,10),u=parseInt(i.value,10),ne=parseInt(M.value,10);e.rangeMode?v.sendEvent(new de(e.inputValue,JSON.stringify({d:a,m:s,y:o.value}),e.endInputValue,JSON.stringify({d:u,m:ne,y:S.value}),0,Q())):v.sendEvent(new le(e.inputValue,0,Q(),JSON.stringify({d:a,m:s,y:o.value})))}return(a,s)=>(g(),ce(Se,{label:a.label,error:a.errorText,hint:a.supportingText,disabled:a.disabled,"no-hover-effect":!0},{default:ve(()=>[l("div",Ie,[l("div",{ref_key:"datepickerInputContainer",ref:b},[O.value?(g(),m(B,{key:0},[l("select",{value:h.value,onInput:J,onBlur:L,class:"cursor-pointer bg-transparent","aria-label":a.rangeMode?"Startdatum Tag auswählen":"Datum Tag auswählen",onClick:s[0]||(s[0]=F(()=>{},["stop"]))},[(g(!0),m(B,null,K(f.value,u=>(g(),m("option",{value:D(u),key:u},_(D(u)),9,Oe))),128))],40,Te),s[8]||(s[8]=l("span",{"aria-hidden":"true"},".",-1)),l("select",{value:c.value,onInput:Z,onBlur:L,class:"cursor-pointer bg-transparent","aria-label":a.rangeMode?"Startdatum Monat auswählen":"Datum Monat auswählen",onClick:s[1]||(s[1]=F(()=>{},["stop"]))},[(g(),m(B,null,K(12,u=>l("option",{value:D(u),key:u},_(D(u)),9,Ve)),64))],40,$e),s[9]||(s[9]=l("span",{"aria-hidden":"true"},".",-1)),l("input",{value:o.value,type:"text",inputmode:"numeric",class:"bg-transparent w-12","aria-label":a.rangeMode?"Startdatum Jahr eingeben":"Datum Jahr eingeben",onBlur:$,onClick:s[2]||(s[2]=F(()=>{},["stop"]))},null,40,Le)],64)):j("",!0),O.value&&a.rangeMode?(g(),m(B,{key:1},[s[10]||(s[10]=l("span",{class:"mr-2"},"-",-1)),l("select",{value:i.value,onInput:U,onBlur:L,class:"cursor-pointer bg-transparent","aria-label":"Enddatum Tag auswählen",onClick:s[3]||(s[3]=F(()=>{},["stop"]))},[(g(!0),m(B,null,K(x.value,u=>(g(),m("option",{value:D(u),key:u},_(D(u)),9,Be))),128))],40,Ye),s[11]||(s[11]=l("span",{"aria-hidden":"true"},".",-1)),l("select",{value:M.value,onInput:d,onBlur:L,class:"cursor-pointer bg-transparent","aria-label":"Enddatum Monat auswählen",onClick:s[4]||(s[4]=F(()=>{},["stop"]))},[(g(),m(B,null,K(12,u=>l("option",{value:D(u),key:u},_(D(u)),9,_e)),64))],40,Ne),s[12]||(s[12]=l("span",{"aria-hidden":"true"},".",-1)),l("input",{value:S.value,type:"text",inputmode:"numeric",class:"bg-transparent w-12","aria-label":"Enddatum Jahr eingeben",onBlur:q,onClick:s[5]||(s[5]=F(()=>{},["stop"]))},null,40,Ae)],64)):j("",!0)],512),O.value?j("",!0):(g(),m("p",Fe,_(a.$t("datepicker.select")),1)),l("div",Pe,[l("div",{class:"cursor-pointer hover:text-I0",tabindex:"0",onClick:s[6]||(s[6]=u=>a.$emit("showDatepicker")),onKeydown:s[7]||(s[7]=P(u=>a.$emit("showDatepicker"),["enter"])),role:"button","aria-label":z.value},[R(I(xe),{class:"w-4","aria-hidden":"true"})],40,Re)])])]),_:1},8,["label","error","hint","disabled"]))}}),Je={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function je(w,e){return g(),m("svg",Je,e[0]||(e[0]=[l("path",{fill:"currentColor",d:"M19.5 12a2.3 2.3 0 0 1-.78 1.729L7.568 23.54a1.847 1.847 0 0 1-2.439-2.773l9.752-8.579a.25.25 0 0 0 0-.376L5.129 3.233A1.847 1.847 0 0 1 7.568.46l11.148 9.808A2.31 2.31 0 0 1 19.5 12"},null,-1)]))}const oe={render:je},He={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function We(w,e){return g(),m("svg",He,e[0]||(e[0]=[l("path",{fill:"currentColor",d:"M16.147 1.952h-3.909a1.5 1.5 0 0 0 0 3h3.909a4.852 4.852 0 1 1 0 9.7h-9.01a.25.25 0 0 1-.25-.25V11.27a1 1 0 0 0-1.707-.707L.293 15.449a1 1 0 0 0 0 1.414L5.18 21.75a1 1 0 0 0 1.707-.707v-3.137a.25.25 0 0 1 .25-.25h9.01a7.852 7.852 0 1 0 0-15.7Z"},null,-1)]))}const Ke={render:We},Ue={class:"flex justify-between items-center gap-x-2"},Ze={class:"truncate"},qe=ae({__name:"DatepickerHeader",props:{label:{}},emits:["close"],setup(w,{expose:e}){const v=te("closeButton");return e({closeButton:v}),(b,o)=>{var c;return g(),m("div",null,[l("div",Ue,[l("p",Ze,_((c=b.label)!=null?c:""),1),l("div",{ref_key:"closeButton",ref:v,class:"flex justify-center items-center cursor-pointer rounded-full size-8 shrink-0 grow-0",tabindex:"0","aria-label":"Dialog schließen",onClick:o[0]||(o[0]=h=>b.$emit("close")),onKeydown:o[1]||(o[1]=P(h=>b.$emit("close"),["enter"]))},[R(I(Me),{class:"h-4","aria-hidden":"true"})],544)]),o[2]||(o[2]=l("div",{class:"border-b border-b-primary mt-2"},null,-1))])}}});var C=(w=>(w[w.SELECT_START=0]="SELECT_START",w[w.SELECT_END=1]="SELECT_END",w[w.COMPLETE=2]="COMPLETE",w))(C||{});const T=new Map;T.set(0,"Januar");T.set(1,"Februar");T.set(2,"März");T.set(3,"April");T.set(4,"Mai");T.set(5,"Juni");T.set(6,"Juli");T.set(7,"August");T.set(8,"September");T.set(9,"Oktober");T.set(10,"November");T.set(11,"Dezember");const Ge=["onKeydown"],Qe={class:"relative bg-M1 rounded-xl shadow-lg max-w-96 p-6 z-10"},Xe={class:"h-[23rem]"},et={class:"flex justify-between items-center mb-4 h-8"},tt={class:"flex justify-center items-center basis-2/3 gap-x-px text-lg h-full"},at={class:"basis-1/2 shrink-0 grow-0 h-full"},nt=["value"],lt={class:"basis-1/2 shrink-0 grow-0 h-full"},rt={class:"datepicker-grid grid grid-cols-7 gap-y-2 text-center leading-none"},st=["onClick","onKeydown"],ut={class:"select-none"},ot={key:0,class:"mt-2"},it={key:1,class:"mt-2"},dt=["disabled"],ct=ae({__name:"DatepickerOverlay",props:{datepickerExpanded:{type:Boolean},rangeMode:{type:Boolean},label:{},selectedStartDay:{},selectedStartMonth:{},selectedStartYear:{},selectedEndDay:{},selectedEndMonth:{},selectedEndYear:{},rangeSelectionState:{}},emits:["close","select","submitSelection","clearSelection"],setup(w,{emit:e}){const v=w,b=e,{t:o}=fe(),c=te("datepickerHeader"),h=te("confirmButton"),S=E(),M=new Date(Date.now()),i=E(M.getFullYear()),f=E(M.getMonth()),x=E(""),O=E(null),z=E(null);Y(()=>v.datepickerExpanded,r=>{r&&pe(()=>{var t,n;(n=(t=c.value)==null?void 0:t.closeButton)==null||n.focus(),U()})}),Y(x,(r,t)=>{r.match(/^[1-9][0-9]{0,3}$/)?i.value=parseInt(r,10):x.value=t});const A=N(()=>new Date(v.selectedStartYear,v.selectedStartMonth-1,v.selectedStartDay,0,0,0,0)),D=N(()=>new Date(v.selectedEndYear,v.selectedEndMonth-1,v.selectedEndDay,0,0,0,0)),J=N(()=>{var n;const r=[];r.push(...d()),r[0].dayOfWeek!==1&&r.unshift(...$());const t=(n=r.at(-1))==null?void 0:n.dayOfWeek;return t!==void 0&&t!==7&&r.push(...q(t)),r});function U(){i.value=A.value.getFullYear(),x.value=i.value.toString(10),f.value=A.value.getMonth()}function Z(r,t){(O.value===null||t>O.value)&&(O.value=t,z.value=r)}function d(){const r=[],n=new Date(i.value,f.value+1,0,0,0,0,0).getDate();for(let k=1;k<=n;k++){const y=new Date(i.value,f.value,k,0,0,0,0),p={dayOfWeek:y.getDay()===0?7:y.getDay(),dayOfMonth:k,monthIndex:f.value,year:i.value,selectedStart:!1,selectedEnd:!1,withinRange:!1};p.selectedStart=V(p.dayOfMonth,p.monthIndex,p.year),p.selectedEnd=H(p.dayOfMonth,p.monthIndex,p.year),p.withinRange=G(p.dayOfMonth,p.monthIndex,p.year),r.push(p)}return r}function $(){const r=[],t=new Date(i.value,f.value,0,0,0,0,0),n=t.getDay()===0?7:t.getDay(),k=t.getDate();for(let y=0;y<n;y++){t.setDate(k-y);const p={dayOfWeek:t.getDay()===0?7:t.getDay(),dayOfMonth:k-y,monthIndex:t.getMonth(),year:t.getFullYear(),selectedStart:!1,selectedEnd:!1,withinRange:!1};p.selectedStart=V(p.dayOfMonth,p.monthIndex,p.year),p.selectedEnd=H(p.dayOfMonth,p.monthIndex,p.year),p.withinRange=G(p.dayOfMonth,p.monthIndex,p.year),r.unshift(p)}return r}function q(r){const t=[];let n;f.value+1===12?n=new Date(i.value+1,0,1,0,0,0,0):n=new Date(i.value,f.value+1,1,0,0,0,0);for(let k=1;k<=7-r;k++){n.setDate(k);const y={dayOfWeek:n.getDay()===0?7:n.getDay(),dayOfMonth:n.getDate(),monthIndex:n.getMonth(),year:n.getFullYear(),selectedStart:!1,selectedEnd:!1,withinRange:!1};y.selectedStart=V(y.dayOfMonth,y.monthIndex,y.year),y.selectedEnd=H(y.dayOfMonth,y.monthIndex,y.year),y.withinRange=G(y.dayOfMonth,y.monthIndex,y.year),t.push(y)}return t}function V(r,t,n){return r===v.selectedStartDay&&t===v.selectedStartMonth-1&&n===v.selectedStartYear}function H(r,t,n){return v.rangeSelectionState!==C.SELECT_END&&r===v.selectedEndDay&&t===v.selectedEndMonth-1&&n===v.selectedEndYear}function G(r,t,n){if(v.rangeSelectionState===C.SELECT_END)return!1;const k=new Date(n,t,r,0,0,0,0);return A.value<=k&&k<=D.value}function X(){if(f.value===0){f.value=11,i.value-=1,x.value=i.value.toString(10);return}f.value-=1}function L(){if(f.value===11){f.value=0,i.value+=1,x.value=i.value.toString(10);return}f.value+=1}function ee(r){b("select",r.dayOfMonth,r.monthIndex,r.year),v.rangeMode||b("close")}function a(r){var t,n;document.activeElement===s()&&(r.preventDefault(),(n=(t=c.value)==null?void 0:t.closeButton)==null||n.focus())}function s(){return v.rangeSelectionState===C.COMPLETE?h.value:z.value instanceof HTMLElement?z.value:null}function u(r){var t,n;document.activeElement===((t=c.value)==null?void 0:t.closeButton)&&(r.preventDefault(),(n=s())==null||n.focus())}function ne(){var r,t;b("clearSelection"),(t=(r=c.value)==null?void 0:r.closeButton)==null||t.focus()}return(r,t)=>r.datepickerExpanded?(g(),m("div",{key:0,ref_key:"datepicker",ref:S,class:"fixed top-0 left-0 bottom-0 right-0 flex justify-center items-center z-30",onKeydown:[P(F(a,["exact"]),["tab"]),P(F(u,["shift"]),["tab"]),t[5]||(t[5]=P(n=>r.$emit("close"),["esc"]))]},[l("div",Qe,[l("div",Xe,[R(qe,{ref_key:"datepickerHeader",ref:c,label:r.label,onClose:t[0]||(t[0]=n=>b("close")),class:"mb-4"},null,8,["label"]),l("div",et,[l("div",{class:"hover:bg-I0/15 flex justify-center items-center cursor-pointer rounded-full size-8",tabindex:"0",onClick:X,onKeydown:P(X,["enter"])},[R(I(oe),{class:"rotate-180 h-4"})],32),l("div",tt,[l("div",at,[re(l("select",{"onUpdate:modelValue":t[1]||(t[1]=n=>f.value=n),class:"hover:bg-I0/15 border-0 bg-M1 text-right cursor-pointer rounded-l-md w-full h-full px-2"},[(g(!0),m(B,null,K(I(T).entries(),(n,k)=>(g(),m("option",{key:k,value:n[0]},_(n[1]),9,nt))),128))],512),[[he,f.value]])]),l("div",lt,[re(l("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>x.value=n),type:"text",class:"hover:bg-I0/15 border-0 bg-M1 rounded-r-md text-left w-full h-full px-2"},null,512),[[ye,x.value]])])]),l("div",{class:"hover:bg-I0/15 flex justify-center items-center cursor-pointer rounded-full size-8",tabindex:"0",onClick:L,onKeydown:P(L,["enter"])},[R(I(oe),{class:"h-4"})],32)]),l("div",rt,[t[6]||(t[6]=l("span",null,"Mo",-1)),t[7]||(t[7]=l("span",null,"Di",-1)),t[8]||(t[8]=l("span",null,"Mi",-1)),t[9]||(t[9]=l("span",null,"Do",-1)),t[10]||(t[10]=l("span",null,"Fr",-1)),t[11]||(t[11]=l("span",null,"Sa",-1)),t[12]||(t[12]=l("span",null,"So",-1)),(g(!0),m(B,null,K(J.value,(n,k)=>(g(),m("div",{key:k,class:se(["relative flex justify-center items-center h-full w-full",{"within-range-day":n.withinRange,"selected-start-day-container":n.selectedStart,"selected-end-day-container":n.selectedEnd}])},[l("div",{ref_for:!0,ref:y=>Z(y,k),class:se(["day hover:bg-I0/15 flex justify-center items-center cursor-pointer",{"selected-day":n.selectedStart||n.selectedEnd,"text-disabled-text":!n.withinRange&&n.monthIndex!==f.value}]),tabindex:"0",onClick:y=>ee(n),onKeydown:P(y=>ee(n),["enter"])},[l("span",ut,_(n.dayOfMonth),1)],42,st)],2))),128))])]),r.rangeMode?(g(),m(B,{key:0},[r.rangeSelectionState===I(C).SELECT_START?(g(),m("p",ot," Bitte wählen Sie einen Startzeitpunkt aus ")):r.rangeSelectionState===I(C).SELECT_END?(g(),m("p",it," Bitte wählen Sie einen Endzeitpunkt aus ")):r.rangeSelectionState===I(C).COMPLETE?(g(),m("button",{key:2,onClick:ne,class:"flex justify-start items-center gap-x-2 text-I0 underline mt-2"},[R(I(Ke),{class:"h-4","aria-hidden":"true"}),t[13]||(t[13]=ge(" Auswahl aufheben "))])):j("",!0),t[14]||(t[14]=l("div",{class:"border-b border-b-disabled-background mt-3 mb-6"},null,-1)),l("button",{ref_key:"confirmButton",ref:h,class:"button-confirm button-primary",disabled:r.rangeSelectionState!==I(C).COMPLETE,onClick:t[3]||(t[3]=n=>b("submitSelection"))},_(I(o)("datepicker.confirm")),9,dt)],64)):j("",!0)]),l("div",{class:"absolute top-0 left-0 bottom-0 right-0 bg-opacity-60 bg-black z-0",onClick:t[4]||(t[4]=n=>b("close"))})],40,Ge)):j("",!0)}}),vt=me(ct,[["__scopeId","data-v-3cc6f31b"]]),bt=ae({__name:"UiDatepicker",props:{ui:{}},setup(w){const e=w,v=ie(),b=E(!1),o=E(0),c=E(0),h=E(0),S=E(0),M=E(0),i=E(0),f=E(C.SELECT_START);De(O);const x=N(()=>ke(e.ui.frame).join(";"));Y(()=>e.ui,O);function O(){e.ui.value===void 0&&(e.ui.value=new ue),o.value=e.ui.value.day?e.ui.value.day:0,c.value=e.ui.value.month?e.ui.value.month:0,h.value=e.ui.value.year?e.ui.value.year:0,e.ui.endValue===void 0&&(e.ui.endValue=new ue),S.value=e.ui.endValue.day?e.ui.endValue.day:0,M.value=e.ui.endValue.month?e.ui.endValue.month:0,i.value=e.ui.endValue.year?e.ui.endValue.year:0,f.value=C.SELECT_START}function z(){!e.ui.disabled&&!b.value&&(f.value=C.SELECT_START,b.value=!0)}function A(){b.value=!1,O()}function D(d,$,q){const V=new Date(q,$,d,0,0,0,0);if(e.ui.style===W.DatePickerSingleDate){J(V);return}switch(f.value){case C.SELECT_START:J(V);break;case C.SELECT_END:U(V);break;case C.COMPLETE:J(V);break}}function J(d){o.value=d.getDate(),c.value=d.getMonth()+1,h.value=d.getFullYear(),e.ui.style!==W.DatePickerDateRange?v.sendEvent(new le(e.ui.inputValue,0,Q(),JSON.stringify({d:o.value,m:c.value,y:h.value}))):f.value=C.SELECT_END}function U(d){d.setHours(0,0,0,0);const $=new Date(h.value,c.value-1,o.value,0,0,0,0);d<$?(o.value=d.getDate(),c.value=d.getMonth()+1,h.value=d.getFullYear(),S.value=$.getDate(),M.value=$.getMonth()+1,i.value=$.getFullYear()):(S.value=d.getDate(),M.value=d.getMonth()+1,i.value=d.getFullYear()),f.value=C.COMPLETE}function Z(){switch(b.value=!1,e.ui.style){case W.DatePickerSingleDate:{v.sendEvent(new le(e.ui.inputValue,0,Q(),JSON.stringify({d:o.value,m:c.value,y:h.value})));return}case W.DatePickerDateRange:{v.sendEvent(new de(e.ui.inputValue,JSON.stringify({d:o.value,m:c.value,y:h.value}),e.ui.endInputValue,JSON.stringify({d:S.value,m:M.value,y:i.value}),0,Q()));return}default:throw"unknown date picker style"}}return(d,$)=>d.ui.invisible?j("",!0):(g(),m("div",{key:0,class:"relative",style:be(x.value)},[R(ze,{value:d.ui.value,label:d.ui.label,"error-text":d.ui.errorText,"supporting-text":d.ui.supportingText,disabled:d.ui.disabled,"datepicker-style":d.ui.style,"datepicker-expanded":b.value,"selected-start-year":h.value,"selected-start-month":c.value,"selected-start-day":o.value,"selected-end-year":i.value,"selected-end-month":M.value,"selected-end-day":S.value,"range-mode":d.ui.style===I(W).DatePickerDateRange,"input-value":d.ui.inputValue,"end-input-value":d.ui.endInputValue,onShowDatepicker:z},null,8,["value","label","error-text","supporting-text","disabled","datepicker-style","datepicker-expanded","selected-start-year","selected-start-month","selected-start-day","selected-end-year","selected-end-month","selected-end-day","range-mode","input-value","end-input-value"]),R(vt,{"datepicker-expanded":b.value,"range-mode":d.ui.style===I(W).DatePickerDateRange,label:d.ui.label,"selected-start-day":o.value,"selected-start-month":c.value,"selected-start-year":h.value,"selected-end-day":S.value,"selected-end-month":M.value,"selected-end-year":i.value,"range-selection-state":f.value,onClose:A,onSelect:D,onSubmitSelection:Z,onClearSelection:O},null,8,["datepicker-expanded","range-mode","label","selected-start-day","selected-start-month","selected-start-year","selected-end-day","selected-end-month","selected-end-year","range-selection-state"])],4))}});export{bt as default};
