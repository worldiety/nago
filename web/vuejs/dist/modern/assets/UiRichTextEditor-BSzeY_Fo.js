import{E as le,M as S,m as g,a as E,N as w,w as I,b as T,c as L,P,d as j,T as A,t as D,S as H,e as ae,k as ue,F,f as Q,g as K,D as de,h as pe,j as ce,l as he,n as fe,o as me,p as ge}from"./index-BHdQZMYO.js";import{d as ee,a2 as ve,r as be,a0 as ke,p as we,a4 as ye,a5 as Me,N as Ce,q as xe,a6 as Ae,_ as Te,a7 as Le,c as Se,a as Ie,o as te,b as a,s as He,n as b,u as Ee,g as Be,i as Re,h as Oe,U as Pe,f as Ne}from"./main-BTwtPOzi.js";import{a as Ve}from"./frame-BFmZ95SY.js";import"./index-Vcq4gwWv.js";import"./length-CE-uc3jn.js";function q(t){return Me((e,n)=>({get(){return e(),t},set(s){t=s,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}let De=class extends le{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=q(this.view.state),this.reactiveExtensionStorage=q(this.extensionStorage),this.on("beforeTransaction",({nextState:n})=>{this.reactiveState.value=n,this.reactiveExtensionStorage.value=this.extensionStorage}),ye(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,n){const s=super.registerPlugin(e,n);return this.reactiveState&&(this.reactiveState.value=s),s}unregisterPlugin(e){const n=super.unregisterPlugin(e);return this.reactiveState&&n&&(this.reactiveState.value=n),n}};const ze=ee({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=be(),n=Ae();return ke(()=>{const s=t.editor;s&&s.options.element&&e.value&&Ce(()=>{if(!e.value||!s.options.element.firstChild)return;const r=xe(e.value);e.value.append(...s.options.element.childNodes),s.contentComponent=n.ctx._,n&&(s.appContext={...n.appContext,provides:n.provides}),s.setOptions({element:r}),s.createNodeViews()})}),we(()=>{const s=t.editor;s&&(s.contentComponent=null,s.appContext=null)}),{rootEl:e}},render(){return ve("div",{ref:t=>{this.rootEl=t}})}}),je=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var s,r;const i=n.getAttribute("style"),o=(r=(s=n.parentElement)===null||s===void 0?void 0:s.closest("span"))===null||r===void 0?void 0:r.getAttribute("style");n.setAttribute("style",`${o};${i}`)})},G=S.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&je(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",g(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,s)=>{if(n.isTextblock)return!0;n.marks.filter(r=>r.type===this.type).some(r=>Object.values(r.attrs).some(i=>!!i))||t.removeMark(s,s+n.nodeSize,this.type)}),!0}}}}),Ke=E.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),z=w.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",g(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),$e=S.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",g(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Ue=/^\s*>\s$/,Fe=w.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",g(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[I({find:Ue,type:this.type})]}}),qe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Ge=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,We=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Ze=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,_e=S.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",g(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[L({find:qe,type:this.type}),L({find:We,type:this.type})]},addPasteRules(){return[T({find:Ge,type:this.type}),T({find:Ze,type:this.type})]}}),Je="listItem",W="textStyle",Z=/^\s*([-+*])\s$/,Xe=w.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",g(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Je,this.editor.getAttributes(W)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=I({find:Z,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=I({find:Z,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(W),editor:this.editor})),[t]}}),Ye=/(^|[^`])`([^`]+)`(?!`)/,Qe=/(^|[^`])`([^`]+)`(?!`)/g,et=S.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",g(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[L({find:Ye,type:this.type})]},addPasteRules(){return[T({find:Qe,type:this.type})]}}),tt=/^```([a-z]+)?[\s\n]$/,nt=/^~~~([a-z]+)?[\s\n]$/,rt=w.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",g(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:s,empty:r}=n;if(!r||s.parent.type!==this.type)return!1;const i=s.parentOffset===s.parent.nodeSize-2,o=s.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:l})=>(l.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:s}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const l=r.after();return l===void 0?!1:s.nodeAt(l)?t.commands.command(({tr:d})=>(d.setSelection(H.near(s.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[D({find:tt,type:this.type,getAttributes:t=>({language:t[1]})}),D({find:nt,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new P({key:new j("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),s=e.clipboardData.getData("vscode-editor-data"),r=s?JSON.parse(s):void 0,i=r?.mode;if(!n||!i)return!1;const{tr:o,schema:l}=t.state,u=l.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},u)),o.selection.$from.parent.type!==this.type&&o.setSelection(A.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),st=w.create({name:"doc",topNode:!0,content:"block+"});function it(t={}){return new P({view(e){return new ot(e,t)}})}class ot{constructor(e,n){var s;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=n.width)!==null&&s!==void 0?s:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=o=>{this[r](o)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,s;if(n){let l=e.nodeBefore,u=e.nodeAfter;if(l||u){let d=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(d){let c=d.getBoundingClientRect(),p=l?c.bottom:c.top;l&&u&&(p=(p+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),s={left:c.left,right:c.right,top:p-this.width/2,bottom:p+this.width/2}}}}if(!s){let l=this.editorView.coordsAtPos(this.cursorPos);s={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let i,o;if(!r||r==document.body&&getComputedStyle(r).position=="static")i=-pageXOffset,o=-pageYOffset;else{let l=r.getBoundingClientRect();i=l.left-r.scrollLeft,o=l.top-r.scrollTop}this.element.style.left=s.left-i+"px",this.element.style.top=s.top-o+"px",this.element.style.width=s.right-s.left+"px",this.element.style.height=s.bottom-s.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),s=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=s&&s.type.spec.disableDropCursor,i=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!i){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=ae(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const lt=E.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[it(this.options)]}});class h extends H{constructor(e){super(e,e)}map(e,n){let s=e.resolve(n.map(this.head));return h.valid(s)?new h(s):H.near(s)}content(){return Q.empty}eq(e){return e instanceof h&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new h(e.resolve(n.pos))}getBookmark(){return new $(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!at(e)||!ut(e))return!1;let s=n.type.spec.allowGapCursor;if(s!=null)return s;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,s=!1){e:for(;;){if(!s&&h.valid(e))return e;let r=e.pos,i=null;for(let o=e.depth;;o--){let l=e.node(o);if(n>0?e.indexAfter(o)<l.childCount:e.index(o)>0){i=l.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;r+=n;let u=e.doc.resolve(r);if(h.valid(u))return u}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!K.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*n),s=!1;continue e}break}i=o,r+=n;let l=e.doc.resolve(r);if(h.valid(l))return l}return null}}}h.prototype.visible=!1;h.findFrom=h.findGapCursorFrom;H.jsonID("gapcursor",h);class ${constructor(e){this.pos=e}map(e){return new $(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return h.valid(n)?new h(n):H.near(n)}}function at(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),s=t.node(e);if(n==0){if(s.type.spec.isolating)return!0;continue}for(let r=s.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function ut(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),s=t.node(e);if(n==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let r=s.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function dt(){return new P({props:{decorations:ft,createSelectionBetween(t,e,n){return e.pos==n.pos&&h.valid(n)?new h(n):null},handleClick:ct,handleKeyDown:pt,handleDOMEvents:{beforeinput:ht}}})}const pt=ue({ArrowLeft:B("horiz",-1),ArrowRight:B("horiz",1),ArrowUp:B("vert",-1),ArrowDown:B("vert",1)});function B(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(s,r,i){let o=s.selection,l=e>0?o.$to:o.$from,u=o.empty;if(o instanceof A){if(!i.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=s.doc.resolve(e>0?l.after():l.before())}let d=h.findGapCursorFrom(l,e,u);return d?(r&&r(s.tr.setSelection(new h(d))),!0):!1}}function ct(t,e,n){if(!t||!t.editable)return!1;let s=t.state.doc.resolve(e);if(!h.valid(s))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&K.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new h(s))),!0)}function ht(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof h))return!1;let{$from:n}=t.state.selection,s=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!s)return!1;let r=F.empty;for(let o=s.length-1;o>=0;o--)r=F.from(s[o].createAndFill(null,r));let i=t.state.tr.replace(n.pos,n.pos,new Q(r,0,0));return i.setSelection(A.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function ft(t){if(!(t.selection instanceof h))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",de.create(t.doc,[pe.widget(t.selection.head,e,{key:"gapcursor"})])}const mt=E.create({name:"gapCursor",addProseMirrorPlugins(){return[dt()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ce(he(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),gt=w.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",g(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:s})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:i}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=s.extensionManager,u=i||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:c})=>{if(c&&u&&o){const p=u.filter(f=>l.includes(f.type.name));d.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),vt=w.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,g(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>D({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var O=200,m=function(){};m.prototype.append=function(e){return e.length?(e=m.from(e),!this.length&&e||e.length<O&&this.leafAppend(e)||this.length<O&&e.leafPrepend(this)||this.appendInner(e)):this};m.prototype.prepend=function(e){return e.length?m.from(e).append(this):this};m.prototype.appendInner=function(e){return new bt(this,e)};m.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?m.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};m.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};m.prototype.forEach=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length),n<=s?this.forEachInner(e,n,s,0):this.forEachInvertedInner(e,n,s,0)};m.prototype.map=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length);var r=[];return this.forEach(function(i,o){return r.push(e(i,o))},n,s),r};m.from=function(e){return e instanceof m?e:e&&e.length?new ne(e):m.empty};var ne=function(t){function e(s){t.call(this),this.values=s}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,i){return r==0&&i==this.length?this:new e(this.values.slice(r,i))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,i,o,l){for(var u=i;u<o;u++)if(r(this.values[u],l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,l){for(var u=i-1;u>=o;u--)if(r(this.values[u],l+u)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=O)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=O)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(m);m.empty=new ne([]);var bt=function(t){function e(n,s){t.call(this),this.left=n,this.right=s,this.length=n.length+s.length,this.depth=Math.max(n.depth,s.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},e.prototype.forEachInner=function(s,r,i,o){var l=this.left.length;if(r<l&&this.left.forEachInner(s,r,Math.min(i,l),o)===!1||i>l&&this.right.forEachInner(s,Math.max(r-l,0),Math.min(this.length,i)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(s,r,i,o){var l=this.left.length;if(r>l&&this.right.forEachInvertedInner(s,r-l,Math.max(i,l)-l,o+l)===!1||i<l&&this.left.forEachInvertedInner(s,Math.min(r,l),i,o)===!1)return!1},e.prototype.sliceInner=function(s,r){if(s==0&&r==this.length)return this;var i=this.left.length;return r<=i?this.left.slice(s,r):s>=i?this.right.slice(s-i,r-i):this.left.slice(s,i).append(this.right.slice(0,r-i))},e.prototype.leafAppend=function(s){var r=this.right.leafAppend(s);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(s){var r=this.left.leafPrepend(s);if(r)return new e(r,this.right)},e.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new e(this.left,new e(this.right,s)):new e(this,s)},e}(m);const kt=500;class k{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let r,i;n&&(r=this.remapping(s,this.items.length),i=r.maps.length);let o=e.tr,l,u,d=[],c=[];return this.items.forEach((p,f)=>{if(!p.step){r||(r=this.remapping(s,f+1),i=r.maps.length),i--,c.push(p);return}if(r){c.push(new y(p.map));let v=p.step.map(r.slice(i)),C;v&&o.maybeStep(v).doc&&(C=o.mapping.maps[o.mapping.maps.length-1],d.push(new y(C,void 0,void 0,d.length+c.length))),i--,C&&r.appendMap(C,i)}else o.maybeStep(p.step);if(p.selection)return l=r?p.selection.map(r.slice(i)):p.selection,u=new k(this.items.slice(0,s).append(c.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:o,selection:l}}addTransform(e,n,s,r){let i=[],o=this.eventCount,l=this.items,u=!r&&l.length?l.get(l.length-1):null;for(let c=0;c<e.steps.length;c++){let p=e.steps[c].invert(e.docs[c]),f=new y(e.mapping.maps[c],p,n),v;(v=u&&u.merge(f))&&(f=v,c?i.pop():l=l.slice(0,l.length-1)),i.push(f),n&&(o++,n=void 0),r||(u=f)}let d=o-s.depth;return d>yt&&(l=wt(l,d),o-=d),new k(l.append(i),o)}remapping(e,n){let s=new fe;return this.items.forEach((r,i)=>{let o=r.mirrorOffset!=null&&i-r.mirrorOffset>=e?s.maps.length-r.mirrorOffset:void 0;s.appendMap(r.map,o)},e,n),s}addMaps(e){return this.eventCount==0?this:new k(this.items.append(e.map(n=>new y(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let s=[],r=Math.max(0,this.items.length-n),i=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},r);let u=n;this.items.forEach(f=>{let v=i.getMirror(--u);if(v==null)return;o=Math.min(o,v);let C=i.maps[v];if(f.step){let oe=e.steps[v].invert(e.docs[v]),U=f.selection&&f.selection.map(i.slice(u+1,v));U&&l++,s.push(new y(C,oe,U))}else s.push(new y(C))},r);let d=[];for(let f=n;f<o;f++)d.push(new y(i.maps[f]));let c=this.items.slice(0,r).append(d).append(s),p=new k(c,l);return p.emptyItemCount()>kt&&(p=p.compress(this.items.length-s.length)),p}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),s=n.maps.length,r=[],i=0;return this.items.forEach((o,l)=>{if(l>=e)r.push(o),o.selection&&i++;else if(o.step){let u=o.step.map(n.slice(s)),d=u&&u.getMap();if(s--,d&&n.appendMap(d,s),u){let c=o.selection&&o.selection.map(n.slice(s));c&&i++;let p=new y(d.invert(),u,c),f,v=r.length-1;(f=r.length&&r[v].merge(p))?r[v]=f:r.push(p)}}else o.map&&s--},this.items.length,0),new k(m.from(r.reverse()),i)}}k.empty=new k(m.empty,0);function wt(t,e){let n;return t.forEach((s,r)=>{if(s.selection&&e--==0)return n=r,!1}),t.slice(n)}class y{constructor(e,n,s,r){this.map=e,this.step=n,this.selection=s,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new y(n.getMap().invert(),n,this.selection)}}}class M{constructor(e,n,s,r,i){this.done=e,this.undone=n,this.prevRanges=s,this.prevTime=r,this.prevComposition=i}}const yt=20;function Mt(t,e,n,s){let r=n.getMeta(x),i;if(r)return r.historyState;n.getMeta(At)&&(t=new M(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(x))return o.getMeta(x).redo?new M(t.done.addTransform(n,void 0,s,R(e)),t.undone,_(n.mapping.maps),t.prevTime,t.prevComposition):new M(t.done,t.undone.addTransform(n,void 0,s,R(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),u=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-s.newGroupDelay||!Ct(n,t.prevRanges)),d=o?N(t.prevRanges,n.mapping):_(n.mapping.maps);return new M(t.done.addTransform(n,u?e.selection.getBookmark():void 0,s,R(e)),k.empty,d,n.time,l??t.prevComposition)}else return(i=n.getMeta("rebased"))?new M(t.done.rebased(n,i),t.undone.rebased(n,i),N(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new M(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),N(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Ct(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((s,r)=>{for(let i=0;i<e.length;i+=2)s<=e[i+1]&&r>=e[i]&&(n=!0)}),n}function _(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((s,r,i,o)=>e.push(i,o));return e}function N(t,e){if(!t)return null;let n=[];for(let s=0;s<t.length;s+=2){let r=e.map(t[s],1),i=e.map(t[s+1],-1);r<=i&&n.push(r,i)}return n}function xt(t,e,n){let s=R(e),r=x.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,s);if(!i)return null;let o=i.selection.resolve(i.transform.doc),l=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),r,s),u=new M(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(o).setMeta(x,{redo:n,historyState:u})}let V=!1,J=null;function R(t){let e=t.plugins;if(J!=e){V=!1,J=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){V=!0;break}}return V}const x=new j("history"),At=new j("closeHistory");function Tt(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new P({key:x,state:{init(){return new M(k.empty,k.empty,null,0,-1)},apply(e,n,s){return Mt(n,s,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let s=n.inputType,r=s=="historyUndo"?se:s=="historyRedo"?ie:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function re(t,e){return(n,s)=>{let r=x.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(s){let i=xt(r,n,t);i&&s(e?i.scrollIntoView():i)}return!0}}const se=re(!1,!0),ie=re(!0,!0),Lt=E.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>se(t,e),redo:()=>({state:t,dispatch:e})=>ie(t,e)}},addProseMirrorPlugins(){return[Tt(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),St=w.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",g(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:s,$to:r}=n,i=t();return s.parentOffset===0?i.insertContentAt({from:Math.max(s.pos-1,0),to:r.pos},{type:this.name}):ge(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:o,dispatch:l})=>{var u;if(l){const{$to:d}=o.selection,c=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?o.setSelection(A.create(o.doc,d.pos+1)):d.nodeAfter.isBlock?o.setSelection(K.create(o.doc,d.pos)):o.setSelection(A.create(o.doc,d.pos));else{const p=(u=d.parent.type.contentMatch.defaultType)===null||u===void 0?void 0:u.create();p&&(o.insert(c,p),o.setSelection(A.create(o.doc,c+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[me({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),It=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Ht=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Et=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Bt=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Rt=S.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",g(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[L({find:It,type:this.type}),L({find:Et,type:this.type})]},addPasteRules(){return[T({find:Ht,type:this.type}),T({find:Bt,type:this.type})]}}),Ot="listItem",X="textStyle",Y=/^(\d+)\.\s$/,Pt=w.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",g(this.options.HTMLAttributes,n),0]:["ol",g(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Ot,this.editor.getAttributes(X)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=I({find:Y,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=I({find:Y,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(X)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Nt=w.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",g(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Vt=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Dt=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,zt=S.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",g(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[L({find:Vt,type:this.type})]},addPasteRules(){return[T({find:Dt,type:this.type})]}}),jt=w.create({name:"text",group:"inline"}),Kt=E.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(_e.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(Fe.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(Xe.configure(this.options.bulletList)),this.options.code!==!1&&t.push(et.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(rt.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(st.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(lt.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(mt.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(gt.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(vt.configure(this.options.heading)),this.options.history!==!1&&t.push(Lt.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(St.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(Rt.configure(this.options.italic)),this.options.listItem!==!1&&t.push(z.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(Pt.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(Nt.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(zt.configure(this.options.strike)),this.options.text!==!1&&t.push(jt.configure(this.options.text)),t}}),$t={components:{EditorContent:ze},props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{editor:null}},watch:{modelValue(t){this.editor.getHTML()!==t&&this.editor.commands.setContent(t,!1)}},mounted(){this.editor=new De({extensions:[Ke.configure({types:[G.name,z.name]}),G.configure({types:[z.name]}),Kt,$e],content:this.modelValue,onUpdate:()=>{this.$emit("update:modelValue",this.editor.getHTML())},onBlur:t=>{this.$emit("blur",event)}})},beforeUnmount(){this.editor.destroy()}},Ut={key:0,class:""},Ft={class:"control-group"},qt={class:"gap-1 flex flex-wrap"},Gt=["disabled"],Wt=["disabled"],Zt=["disabled"],_t=["disabled"],Jt=["disabled"],Xt=["disabled"],Yt=["disabled"],Qt={class:"gap-1 flex flex-wrap"};function en(t,e,n,s,r,i){const o=Le("editor-content");return r.editor?(te(),Se("div",Ut,[a("div",Ft,[a("div",qt,[a("button",{onClick:e[0]||(e[0]=l=>r.editor.chain().focus().toggleBold().run()),disabled:!r.editor.can().chain().focus().toggleBold().run(),class:b({"bg-I0 rounded-sm":r.editor.isActive("bold")}),title:"Bold"},e[18]||(e[18]=[a("svg",{class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[a("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5h4.5a3.5 3.5 0 1 1 0 7H8m0-7v7m0-7H6m2 7h6.5a3.5 3.5 0 1 1 0 7H8m0-7v7m0 0H6"})],-1)]),10,Gt),a("button",{onClick:e[1]||(e[1]=l=>r.editor.chain().focus().toggleItalic().run()),disabled:!r.editor.can().chain().focus().toggleItalic().run(),title:"italic",class:b({"bg-I0 rounded-sm":r.editor.isActive("italic")})},e[19]||(e[19]=[a("svg",{class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[a("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m8.874 19 6.143-14M6 19h6.33m-.66-14H18"})],-1)]),10,Wt),a("button",{onClick:e[2]||(e[2]=l=>r.editor.chain().focus().toggleUnderline().run()),disabled:!r.editor.can().chain().focus().toggleUnderline().run(),title:"underline",class:b({"bg-I0 rounded-sm":r.editor.isActive("underline")})},e[20]||(e[20]=[a("svg",{class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[a("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M5 19h14M7.6 16l4.2979-10.92963c.0368-.09379.1674-.09379.2042 0L16.4 16m-8.8 0H6.5m1.1 0h1.65m7.15 0h-1.65m1.65 0h1.1m-8.33315-4h5.66025"})],-1)]),10,Zt),a("button",{onClick:e[3]||(e[3]=l=>r.editor.chain().focus().toggleStrike().run()),disabled:!r.editor.can().chain().focus().toggleStrike().run(),title:"strike",class:b({"bg-I0 rounded-sm":r.editor.isActive("strike")})},e[21]||(e[21]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 12a8.912 8.912 0 0 1-.318-.079c-1.585-.424-2.904-1.247-3.76-2.236-.873-1.009-1.265-2.19-.968-3.301.59-2.2 3.663-3.29 6.863-2.432A8.186 8.186 0 0 1 16.5 5.21M6.42 17.81c.857.99 2.176 1.812 3.761 2.237 3.2.858 6.274-.23 6.863-2.431.233-.868.044-1.779-.465-2.617M3.75 12h16.5"})],-1)]),10,_t),a("button",{onClick:e[4]||(e[4]=l=>r.editor.chain().focus().toggleCode().run()),disabled:!r.editor.can().chain().focus().toggleCode().run(),title:"code",class:b({"bg-I0 rounded-sm":r.editor.isActive("code")})},e[22]||(e[22]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"})],-1)]),10,Jt),a("button",{onClick:e[5]||(e[5]=l=>r.editor.chain().focus().toggleBulletList().run()),title:"bullet list",class:b({"bg-I0 rounded-sm":r.editor.isActive("bulletList")})},e[23]||(e[23]=[a("svg",{class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[a("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M9 8h10M9 12h10M9 16h10M4.99 8H5m-.02 4h.01m0 4H5"})],-1)]),2),a("button",{onClick:e[6]||(e[6]=l=>r.editor.chain().focus().toggleOrderedList().run()),title:"ordered list",class:b({"bg-I0 rounded-sm":r.editor.isActive("orderedList")})},e[24]||(e[24]=[a("svg",{class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[a("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6h8m-8 6h8m-8 6h8M4 16a2 2 0 1 1 3.321 1.5L4 20h5M4 5l2-1v6m-2 0h4"})],-1)]),2),a("button",{onClick:e[7]||(e[7]=l=>r.editor.chain().focus().toggleCodeBlock().run()),title:"code block",class:b({"bg-I0 rounded-sm":r.editor.isActive("codeBlock")})},e[25]||(e[25]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"})],-1)]),2),a("button",{onClick:e[8]||(e[8]=l=>r.editor.chain().focus().toggleBlockquote().run()),title:"blockquote",class:b({"bg-I0 rounded-sm":r.editor.isActive("blockquote")})},e[26]||(e[26]=[a("svg",{class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[a("path",{"fill-rule":"evenodd",d:"M6 6a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h3a3 3 0 0 1-3 3H5a1 1 0 1 0 0 2h1a5 5 0 0 0 5-5V8a2 2 0 0 0-2-2H6Zm9 0a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h3a3 3 0 0 1-3 3h-1a1 1 0 1 0 0 2h1a5 5 0 0 0 5-5V8a2 2 0 0 0-2-2h-3Z","clip-rule":"evenodd"})],-1)]),2),a("button",{title:"horizontal line",onClick:e[9]||(e[9]=l=>r.editor.chain().focus().setHorizontalRule().run())},e[27]||(e[27]=[a("svg",{class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[a("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M5 12h14"}),a("path",{stroke:"currentColor","stroke-linecap":"round",d:"M6 9.5h12m-12-2h12m-12-2h12m-12 13h12m-12-2h12m-12-2h12"})],-1)])),a("button",{title:"undo",onClick:e[10]||(e[10]=l=>r.editor.chain().focus().undo().run()),disabled:!r.editor.can().chain().focus().undo().run()},e[28]||(e[28]=[a("svg",{class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[a("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9h13a5 5 0 0 1 0 10H7M3 9l4-4M3 9l4 4"})],-1)]),8,Xt),a("button",{title:"redo",onClick:e[11]||(e[11]=l=>r.editor.chain().focus().redo().run()),disabled:!r.editor.can().chain().focus().redo().run()},e[29]||(e[29]=[a("svg",{class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[a("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 9H8a5 5 0 0 0 0 10h9m4-10-4-4m4 4-4 4"})],-1)]),8,Yt),a("button",{onClick:e[12]||(e[12]=l=>r.editor.chain().focus().setColor("var(--M0)").run()),title:"Main color",class:b({"bg-I0 rounded-sm":r.editor.isActive("textStyle",{color:"var(--M0)"})})},e[30]||(e[30]=[a("svg",{class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[a("path",{fill:"currentColor",d:"M19.9999 18.0661c0 1.6203-1.3431 2.9339-3 2.9339-1.6568 0-3-1.3136-3-2.9339 0-1.6204 3-6.0661 3-6.0661s3 4.4457 3 6.0661Z"}),a("path",{fill:"currentColor","fill-rule":"evenodd",d:"M10.4817 7.52489 9.12238 10.9817H11.841l-1.3593-3.45681Zm3.7494 4.06961-2.7166-6.90843c-.3694-.93918-1.69627-.93917-2.06558 0L6.76269 11.5173c-.03333.0634-.06004.1309-.07922.2014l-1.28309 3.263h-.41869c-.55229 0-1 .4477-1 1s.44771 1 1 1h2.75c.55228 0 1-.4477 1-1s-.44772-1-1-1h-.18223l.78646-2h4.29158l.3676.9349c.2021.514.7826.7668 1.2966.5647.514-.2021.7668-.7826.5647-1.2966l-.6085-1.5473c-.0053-.0144-.0109-.0287-.0168-.0429Z","clip-rule":"evenodd"})],-1)]),2),a("button",{onClick:e[13]||(e[13]=l=>r.editor.chain().focus().setColor("var(--I0)").run()),title:"interaktivitäts color",class:b({"bg-I0 rounded-sm":r.editor.isActive("textStyle",{color:"var(--I0)"})})},e[31]||(e[31]=[a("svg",{class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[a("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"m6.08169 15.9817 1.57292-4m-1.57292 4h-1.1m1.1 0h1.65m-.07708-4 2.72499-6.92967c.0368-.09379.1673-.09379.2042 0l2.725 6.92967m-5.65419 0h-.00607m.00607 0h5.65419m0 0 .6169 1.569m5.1104 4.453c0 1.1025-.8543 1.9963-1.908 1.9963s-1.908-.8938-1.908-1.9963c0-1.1026 1.908-4.1275 1.908-4.1275s1.908 3.0249 1.908 4.1275Z"})],-1)]),2),a("button",{onClick:e[14]||(e[14]=l=>r.editor.chain().focus().setColor("var(--A0)").run()),title:"Akzentfarbe",class:b({"bg-I0 rounded-sm":r.editor.isActive("textStyle",{color:"var(--A0)"})})},e[32]||(e[32]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.098 19.902a3.75 3.75 0 0 0 5.304 0l6.401-6.402M6.75 21A3.75 3.75 0 0 1 3 17.25V4.125C3 3.504 3.504 3 4.125 3h5.25c.621 0 1.125.504 1.125 1.125v4.072M6.75 21a3.75 3.75 0 0 0 3.75-3.75V8.197M6.75 21h13.125c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-4.072M10.5 8.197l2.88-2.88c.438-.439 1.15-.439 1.59 0l3.712 3.713c.44.44.44 1.152 0 1.59l-2.879 2.88M6.75 17.25h.008v.008H6.75v-.008Z"})],-1)]),2)]),a("div",Qt,[a("button",{onClick:e[15]||(e[15]=l=>r.editor.chain().focus().toggleHeading({level:1}).run()),title:"Titel",class:b(["p-1",{"bg-I0 rounded-sm":r.editor.isActive("heading",{level:1})}])},e[33]||(e[33]=[a("span",{class:"font-bold text-lg"},"AaBb",-1),a("hr",null,null,-1),a("span",{class:"text-sm"},"Titel",-1)]),2),a("button",{onClick:e[16]||(e[16]=l=>r.editor.chain().focus().toggleHeading({level:2}).run()),title:"Überschrift 2",class:b(["p-1",{"bg-I0 rounded-sm":r.editor.isActive("heading",{level:2})}])},e[34]||(e[34]=[a("span",{class:"font-bold"},"AaBb",-1),a("hr",null,null,-1),a("span",{class:"text-sm"},"Überschrift 2",-1)]),2),a("button",{onClick:e[17]||(e[17]=l=>r.editor.chain().focus().toggleHeading({level:3}).run()),title:"Überschrift 3",class:b(["p-1",{"bg-I0 rounded-sm":r.editor.isActive("heading",{level:3})}])},e[35]||(e[35]=[a("span",{class:""},"AaBb",-1),a("hr",null,null,-1),a("span",{class:"text-sm"},"Überschrift 3",-1)]),2)])]),He(o,{editor:r.editor,class:"prose-custom"},null,8,["editor"])])):Ie("",!0)}const tn=Te($t,[["render",en]]),un=ee({__name:"UiRichTextEditor",props:{ui:{}},setup(t){const e=t,n=Ee(),s=Be(()=>Ve(e.ui.frame));let r;function i(){e.ui.inputValue&&r!==e.ui.value&&(n.sendEvent(new Pe(e.ui.inputValue,void 0,Ne(),e.ui.value)),r=e.ui.value)}return(o,l)=>(te(),Re(tn,{modelValue:o.ui.value,"onUpdate:modelValue":l[0]||(l[0]=u=>o.ui.value=u),style:Oe(s.value),disabled:e.ui.disabled,onBlur:i},null,8,["modelValue","style","disabled"]))}});export{un as default};
