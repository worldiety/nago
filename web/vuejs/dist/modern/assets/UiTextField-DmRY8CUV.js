import{c as r,o as l,b as F,d as V,u as N,G as m,r as O,g as d,K as a,w as y,a as o,s as p,t as j,v as _,j as I,h as b,e as B,H as C,q as W,U as g,f}from"./main-DO-idH9l.js";import{i as q,_ as z}from"./InputWrapper.vue_vue_type_style_index_0_lang-DQBmGqm8.js";import{f as A}from"./frame-BFmZ95SY.js";import"./closeBold-ndLuTMq_.js";import"./length-CE-uc3jn.js";const G={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",viewBox:"0 0 24 24"};function P(x,e){return l(),r("svg",G,e[0]||(e[0]=[F("path",{fill:"currentColor",d:"M23.25 23.999a.743.743 0 0 1-.53-.22L12 13.06 1.28 23.779a.744.744 0 0 1-1.06 0 .752.752 0 0 1 0-1.061l10.72-10.72L.22 1.279C.078 1.138 0 .949 0 .749S.078.36.22.219c.141-.142.33-.22.53-.22s.389.078.53.22L12 10.938 22.72.218a.744.744 0 0 1 1.06 0 .747.747 0 0 1 0 1.061l-10.72 10.72 10.72 10.72a.752.752 0 0 1 0 1.061.746.746 0 0 1-.53.219"},null,-1)]))}const H={render:P},J={class:"relative"},Q=["id","disabled","inputmode"],X=["id","disabled","rows"],ne=V({__name:"UiTextField",props:{ui:{}},setup(x){const e=x,c=N(),k=m("leadingElement"),h=m("trailingElement"),w=m("clearButton"),i=O(e.ui.value?e.ui.value:"");let v=0;const U=d(()=>A(e.ui.frame).join(";")),E=d(()=>e.ui.id?e.ui.id:"tf-"+e.ui.inputValue),L=d(()=>{switch(e.ui.keyboardOptions?.keyboardType){case a.KeyboardInteger:return"numeric";case a.KeyboardFloat:return"decimal";case a.KeyboardEMail:return"email";case a.KeyboardPhone:return"tel";case a.KeyboardURL:return"url";case a.KeyboardSearch:return"search"}return"text"}),T=d(()=>{const t=k.value?.offsetWidth,n=t?`${t}px`:"auto";let u;const $=h.value?.offsetWidth;if($!==void 0)u=`${$}px`;else{const S=w.value?.offsetWidth;u=S?`${S}px`:"auto"}return{"padding-left":n,"padding-right":u}});y(i,(t,n)=>{if(t!=n){if(e.ui.keyboardOptions?.keyboardType==a.KeyboardInteger){t===""||t==="-"?i.value="0":t.match(/^-?[0-9]+$/)||(i.value=n);return}if(e.ui.keyboardOptions?.keyboardType==a.KeyboardFloat){t===""||t==="-"?i.value="0":t.match(/^[+-]?(\d+(\.\d*)?|\.\d+)$/)||(i.value=n);return}}}),y(()=>e.ui.value,t=>{t?i.value=t:i.value=""}),y(()=>e.ui,t=>{t.value?i.value=t.value:i.value=""});function R(t){e.ui.keydownEnter&&(t.stopPropagation(),c.sendEvent(new g(e.ui.inputValue,e.ui.keydownEnter,f(),i.value)),clearTimeout(v))}function s(t){if(i.value!=e.ui.value){if(f(),t||e.ui.disableDebounce){c.sendEvent(new g(e.ui.inputValue,0,f(),i.value));return}M()}}function K(){i.value="",s(!0)}function D(t){return t/1e6}function M(){let t=500;e.ui.debounceTime&&e.ui.debounceTime>0&&(t=D(e.ui.debounceTime)),clearTimeout(v),v=window.setTimeout(()=>{i.value!=e.ui.value&&c.sendEvent(new g(e.ui.inputValue,0,f(),i.value))},t)}return(t,n)=>t.ui.invisible?o("",!0):(l(),r("div",{key:0,style:b(U.value)},[p(z,{"wrapper-style":W(q)(e.ui.style),label:e.ui.label,error:e.ui.errorText,help:e.ui.supportingText,disabled:e.ui.disabled},{default:j(()=>[F("div",J,[e.ui.leading?(l(),r("div",{key:0,ref_key:"leadingElement",ref:k,class:"absolute inset-y-0 left-0 pl-2 pr-1 flex items-center pointer-events-none"},[p(I,{ui:e.ui.leading},null,8,["ui"])],512)):o("",!0),e.ui.lines?o("",!0):_((l(),r("input",{key:1,onKeydown:B(R,["enter"]),id:E.value,"onUpdate:modelValue":n[0]||(n[0]=u=>i.value=u),class:"input-field",style:b(T.value),disabled:e.ui.disabled,type:"text",inputmode:L.value,onFocusout:n[1]||(n[1]=u=>s(!0)),onInput:n[2]||(n[2]=u=>s(!1))},null,44,Q)),[[C,i.value]]),e.ui.lines?_((l(),r("textarea",{key:2,id:E.value,"onUpdate:modelValue":n[3]||(n[3]=u=>i.value=u),class:"input-field",style:b(T.value),disabled:e.ui.disabled,type:"text",rows:e.ui.lines,onFocusout:n[4]||(n[4]=u=>s(!0)),onInput:n[5]||(n[5]=u=>s(!1))},null,44,X)),[[C,i.value]]):o("",!0),e.ui.trailing?(l(),r("div",{key:3,ref_key:"trailingElement",ref:h,class:"absolute inset-y-0 right-0 pr-2 pl-1 flex items-center pointer-events-none"},[p(I,{ui:e.ui.trailing},null,8,["ui"])],512)):i.value&&!e.ui.disabled&&!e.ui.lines?(l(),r("div",{key:4,ref_key:"clearButton",ref:w,class:"absolute inset-y-0 right-0 pr-2 pl-1 flex items-center"},[p(W(H),{class:"w-4",tabindex:"-1",onClick:K,onKeydown:B(K,["enter"])})],512)):o("",!0)])]),_:1},8,["wrapper-style","label","error","help","disabled"])],4))}});export{ne as default};
