import{c as d,o as c,b as M,d as ee,u as te,G as V,r as D,g as y,K as o,C as g,H as j,w as E,a as v,s as b,t as ne,v as L,j as W,e as U,h as I,I as R,q as K,U as F,f as x}from"./main-DGsn7k7r.js";import{i as ae,_ as ie}from"./InputWrapper.vue_vue_type_style_index_0_lang-CtR6FlUU.js";import{f as le}from"./frame-BFmZ95SY.js";import"./closeBold-qcxOYl1G.js";import"./length-CE-uc3jn.js";const re={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",viewBox:"0 0 24 24"};function se(S,t){return c(),d("svg",re,t[0]||(t[0]=[M("path",{fill:"currentColor",d:"M23.25 23.999a.743.743 0 0 1-.53-.22L12 13.06 1.28 23.779a.744.744 0 0 1-1.06 0 .752.752 0 0 1 0-1.061l10.72-10.72L.22 1.279C.078 1.138 0 .949 0 .749S.078.36.22.219c.141-.142.33-.22.53-.22s.389.078.53.22L12 10.938 22.72.218a.744.744 0 0 1 1.06 0 .747.747 0 0 1 0 1.061l-10.72 10.72 10.72 10.72a.752.752 0 0 1 0 1.061.746.746 0 0 1-.53.219"},null,-1)]))}const ue={render:se},oe={class:"relative"},de=["id","disabled","inputmode"],ce=["id","disabled","rows"],ge=ee({__name:"UiTextField",props:{ui:{}},setup(S){const t=S,h=te(),A=V("leadingElement"),B=V("trailingElement"),_=V("clearButton"),f=D(!1),l=D(t.ui.value?T(t.ui.value):"");let k=0;const N=y(()=>le(t.ui.frame).join(";")),m=y(()=>t.ui.id?t.ui.id:"tf-"+t.ui.inputValue),P=y(()=>{switch(t.ui.keyboardOptions?.keyboardType){case o.KeyboardInteger:return"numeric";case o.KeyboardFloat:return"decimal";case o.KeyboardEMail:return"email";case o.KeyboardPhone:return"tel";case o.KeyboardURL:return"url";case o.KeyboardSearch:return"search"}return"text"});function G(e){if(e==="")return"0";const n=e.lastIndexOf("-")>=0,a=e.split(/[,.]/);for(let i=0;i<a.length;i++)a[i]=a[i].replaceAll(/\D/g,""),a[i]=a[i].replaceAll(/^0+/g,"");const u=a.length>1?a.pop():void 0,r=a.join("");let s=r===""?"0":r;return s+=u===void 0||u===""?"":"."+u,s=n?"-"+s:s,s}function q(e,n=!1){const a=e.indexOf("-")>=0&&e.indexOf("-")===e.lastIndexOf("-"),u=Q()?",":".",r=e.split(/[,.]/),s=r.length>1?r.pop()?.replaceAll(/\D/g,""):void 0;let i=r.join("").replaceAll(/\D/g,"");return i=/^0+$/g.test(i)?"0":i.replaceAll(/^0+/g,""),s===""&&n?i+=u:s&&s.length>0&&(i+=u+s),i===""?i=n?"":"0":i=a?"-"+i:i,i}function z(e){const n=e.lastIndexOf("-")>=0;let a=e.replace(/\D/g,"");return a===""?a="0":a=n?"-"+a:a,a}function H(e,n=!1){const a=e.lastIndexOf("-")>=0,u=e.split("");let r="";for(let s=0;s<u.length;s++){const i=u[s];/\D/g.test(i)||(r!==""||i!=="0")&&(r+=i)}return r===""?r=n?"":"0":r=a?"-"+r:r,r}function w(e){switch(t.ui.keyboardOptions?.keyboardType){case o.KeyboardInteger:return z(e);case o.KeyboardFloat:return G(e);default:return e}}function T(e){let n;switch(t.ui.keyboardOptions?.keyboardType){case o.KeyboardInteger:n=H(e,!f.value);break;case o.KeyboardFloat:n=q(e,!f.value);break;default:n=e}return f.value=!1,n}const C=y(()=>{const e=[];switch(t.ui.textAlignment){case g.TextAlignStart:e.push("text-align: start");break;case g.TextAlignEnd:e.push("text-align: end");break;case g.TextAlignCenter:e.push("text-align: center");break;case g.TextAlignJustify:e.push("text-align: justify","text-justify: inter-character");break}if(t.ui.style==j.TextFieldBasic)return e.push("display:inline","background:unset"),e.join(";");const n=A.value?.offsetWidth,a=n?`${n}px`:"auto";let u;const r=B.value?.offsetWidth;if(r!==void 0)u=`${r}px`;else{const s=_.value?.offsetWidth;u=s?`${s}px`:"auto"}return e.push("padding-left:"+a,"padding-right:"+u),e.join(";")});E(l,(e,n)=>{if(e==n)return;const a=T(e);l.value!=a&&(l.value=a)}),E(()=>t.ui.value,e=>{document.getElementById(m.value)!==document.activeElement&&(f.value=!0,l.value=e||"")}),E(()=>t.ui,e=>{document.getElementById(m.value)!==document.activeElement&&(f.value=!0,l.value=e.value?e.value:"")});function J(e){if(t.ui.keydownEnter){e.stopPropagation();const n=w(l.value);h.sendEvent(new F(t.ui.inputValue,t.ui.keydownEnter,x(),n)),clearTimeout(k)}}function p(e,n=0){const a=w(l.value);if(a!=t.ui.value){if(x(),e||t.ui.disableDebounce){h.sendEvent(new F(t.ui.inputValue,n,x(),a));return}Z()}}function O(){return t.ui.keyboardOptions?.keyboardType==o.KeyboardInteger||t.ui.keyboardOptions?.keyboardType==o.KeyboardFloat}function Q(){return navigator.language.split("-")[0].toLowerCase()==="de"}function X(){l.value===""&&O()?l.value="0":(f.value=!0,l.value=T(l.value)),p(!0)}function $(){l.value=O()?"0":"",p(!0)}function Y(e){return e/1e6}function Z(){let e=500;t.ui.debounceTime&&t.ui.debounceTime>0&&(e=Y(t.ui.debounceTime)),clearTimeout(k),k=window.setTimeout(()=>{const n=w(l.value);n!=t.ui.value&&h.sendEvent(new F(t.ui.inputValue,0,x(),n))},e)}return(e,n)=>e.ui.invisible?v("",!0):(c(),d("div",{key:0,style:I(N.value)},[b(ie,{"wrapper-style":K(ae)(t.ui.style),label:t.ui.label,error:t.ui.errorText,help:t.ui.supportingText,disabled:t.ui.disabled},{default:ne(()=>[M("div",oe,[t.ui.leading?(c(),d("div",{key:0,ref_key:"leadingElement",ref:A,class:"absolute inset-y-0 left-0 pl-2 pr-1 flex items-center pointer-events-none"},[b(W,{ui:t.ui.leading},null,8,["ui"])],512)):v("",!0),t.ui.lines?v("",!0):L((c(),d("input",{key:1,id:m.value,"onUpdate:modelValue":n[0]||(n[0]=a=>l.value=a),class:"input-field",style:I(C.value),disabled:t.ui.disabled,type:"text",inputmode:P.value,onKeydown:U(J,["enter"]),onFocusout:X,onInput:n[1]||(n[1]=a=>p(!1))},null,44,de)),[[R,l.value]]),t.ui.lines?L((c(),d("textarea",{key:2,id:m.value,"onUpdate:modelValue":n[2]||(n[2]=a=>l.value=a),class:"input-field",style:I(C.value),disabled:t.ui.disabled,type:"text",rows:t.ui.lines,onFocusout:n[3]||(n[3]=a=>p(!0)),onInput:n[4]||(n[4]=a=>p(!1))},null,44,ce)),[[R,l.value]]):v("",!0),t.ui.trailing?(c(),d("div",{key:3,ref_key:"trailingElement",ref:B,class:"absolute inset-y-0 right-0 pr-2 pl-1 flex items-center pointer-events-none"},[b(W,{ui:t.ui.trailing},null,8,["ui"])],512)):l.value&&!t.ui.disabled&&!t.ui.lines&&t.ui.style!=K(j).TextFieldBasic?(c(),d("div",{key:4,ref_key:"clearButton",ref:_,class:"absolute inset-y-0 right-0 pr-2 pl-1 flex items-center"},[b(K(ue),{class:"w-4",tabindex:"-1",onClick:$,onKeydown:U($,["enter"])})],512)):v("",!0)])]),_:1},8,["wrapper-style","label","error","help","disabled"])],4))}});export{ge as default};
