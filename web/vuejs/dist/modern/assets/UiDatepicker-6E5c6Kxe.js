import{c as D,o as g,b as n,d as ne,u as de,G as ae,r as E,w as L,g as Y,i as pe,t as he,a as W,F as _,z as P,k as U,E as N,e as z,s as R,q as I,L as ce,f as X,U as se,N as ye,P as ge,n as re,v as ue,Q as me,I as De,D as be,_ as Se,m as Me,R as oe,S as K,h as Ee}from"./main-B49SPjK9.js";import{_ as we}from"./InputWrapper.vue_vue_type_style_index_0_lang-t2Jr76eU.js";import{i as ke}from"./index-BHdQZMYO.js";import{C as xe}from"./closeBold-Bl-tGcXs.js";import{f as Ce}from"./frame-BFmZ95SY.js";import"./index-Vcq4gwWv.js";import"./length-CE-uc3jn.js";const Ie={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function Te(k,e){return g(),D("svg",Ie,e[0]||(e[0]=[n("path",{fill:"currentColor",d:"M7.5 10.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M12.5 10.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2M17.5 10.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2M7.5 14.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M12.5 14.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M17.5 14.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M7.5 18.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2M12.5 18.5h-1a1 1 0 0 0 0 2h1a1 1 0 1 0 0-2M17.5 18.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2"},null,-1),n("path",{fill:"currentColor",d:"M21.5 3h-2.75a.25.25 0 0 1-.25-.25V1a1 1 0 0 0-2 0v4.75a.75.75 0 1 1-1.5 0V3.5a.5.5 0 0 0-.5-.5H8.25A.25.25 0 0 1 8 2.751V1a1 1 0 1 0-2 0v4.75a.75.75 0 1 1-1.5 0V3.5A.5.5 0 0 0 4 3H2.5a2 2 0 0 0-2 2v17a2 2 0 0 0 2 2h19a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m0 18.5a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5v-12A.5.5 0 0 1 3 9h18a.5.5 0 0 1 .5.5Z"},null,-1)]))}const Oe={render:Te},$e={class:"input-field relative z-0 !pr-10"},Ye=["value","aria-label"],Ve=["value"],Be=["value","aria-label"],Le=["value"],_e=["value","aria-label"],Ne=["value"],Fe=["value"],Ae=["value"],Pe=["value"],ze=["value"],Re={key:0,class:"text-placeholder-text"},je={class:"absolute top-0 bottom-0 right-4 flex items-center h-full"},Je=["aria-label"],We=ne({__name:"DatepickerInput",props:{value:{},label:{},errorText:{},supportingText:{},disabled:{type:Boolean},datepickerStyle:{},datepickerExpanded:{type:Boolean},selectedStartYear:{},selectedStartMonth:{},selectedStartDay:{},selectedEndYear:{},selectedEndMonth:{},selectedEndDay:{},rangeMode:{type:Boolean},inputValue:{},endInputValue:{}},emits:["showDatepicker"],setup(k){const e=k,u=de(),S=ae("datepickerInputContainer"),i=E(e.selectedStartYear),f=E(b(e.selectedStartMonth)),m=E(b(e.selectedStartDay)),M=E(e.selectedEndYear),h=E(b(e.selectedEndMonth)),o=E(b(e.selectedEndDay));L(()=>e.selectedStartYear,t=>{i.value=t}),L(()=>e.selectedEndYear,t=>{M.value=t}),L(()=>e.selectedStartMonth,t=>{f.value=b(t)}),L(()=>e.selectedEndMonth,t=>{h.value=b(t)}),L(()=>e.selectedStartDay,t=>{m.value=b(t)}),L(()=>e.selectedEndDay,t=>{o.value=b(t)});const v=Y(()=>new Date(i.value,parseInt(f.value,10),0,0,0,0,0).getDate()),C=Y(()=>new Date(M.value,parseInt(h.value,10),0,0,0,0,0).getDate()),O=Y(()=>!e.value||!e.value.year||(new Date().setFullYear(e.selectedStartYear,e.selectedStartMonth-1,e.selectedStartDay),!e.selectedStartYear||!e.selectedStartMonth||!e.selectedStartDay)?!1:e.rangeMode?!!(e.selectedEndYear&&e.selectedEndMonth&&e.selectedEndDay):!0),j=Y(()=>e.rangeMode?`Zeitraumauswahldialog öffnen, ${F.value}`:`Datumsauswahldialog öffnen, ${F.value}`),F=Y(()=>{const t=new Date(i.value,parseInt(f.value,10)-1,parseInt(m.value,10),0,0,0,0);if(!e.rangeMode)return`Ausgewähltes Datum: ${t.toLocaleDateString()}`;const r=new Date(M.value,parseInt(h.value,10)-1,parseInt(o.value,10),0,0,0,0);return`Ausgewählter Zeitraum: ${t.toLocaleDateString()} bis ${r.toLocaleDateString()}`});function b(t){return ke(t)&&(t=t.toString(10)),t.length===1?`0${t}`:t}function J(t){t.target&&(m.value=t.target.value)}function A(t){t.target&&(o.value=t.target.value)}function Z(t){t.target&&(f.value=t.target.value,V())}function d(t){t.target&&(h.value=t.target.value,H())}function $(t){if(!t.target)return;const r=t.target.value;if(!/^[0-9]+$/.test(r))return;const c=parseInt(r,10);if(c<=1582){i.value=0,i.value=e.selectedStartYear;return}i.value=c,V(),B(t)}function q(t){if(!t.target)return;const r=t.target.value;if(!/^[0-9]+$/.test(r))return;const c=parseInt(r,10);if(c<=1582){M.value=0,M.value=e.selectedEndYear;return}M.value=c,H(),B(t)}function V(){parseInt(m.value,10)>v.value&&(m.value=b(v.value))}function H(){parseInt(o.value,10)>C.value&&(o.value=b(C.value))}function G(){if(!e.rangeMode)return!1;const t=new Date(i.value,parseInt(f.value,10),parseInt(m.value,10),0,0,0,0);return new Date(M.value,parseInt(h.value,10),parseInt(o.value,10),0,0,0,0)<t}function Q(){const t=m.value,r=f.value,c=i.value;m.value=o.value,f.value=h.value,i.value=M.value,o.value=t,h.value=r,M.value=c}function B(t){if(!t.relatedTarget)return;const r=t.relatedTarget;S.value?.contains(r)||ee()}function ee(){G()&&Q();const t=parseInt(m.value,10),r=parseInt(f.value,10),c=parseInt(o.value,10),le=parseInt(h.value,10);e.rangeMode?u.sendEvent(new ce(e.inputValue,JSON.stringify({d:t,m:r,y:i.value}),e.endInputValue,JSON.stringify({d:c,m:le,y:M.value}),0,X())):u.sendEvent(new se(e.inputValue,0,X(),JSON.stringify({d:t,m:r,y:i.value})))}return(t,r)=>(g(),pe(we,{label:t.label,error:t.errorText,help:t.supportingText,disabled:t.disabled,"no-hover-effect":!0},{default:he(()=>[n("div",$e,[n("div",{ref_key:"datepickerInputContainer",ref:S},[O.value?(g(),D(_,{key:0},[n("select",{value:m.value,onInput:J,onBlur:B,class:"cursor-pointer bg-transparent","aria-label":t.rangeMode?"Startdatum Tag auswählen":"Datum Tag auswählen",onClick:r[0]||(r[0]=P(()=>{},["stop"]))},[(g(!0),D(_,null,U(v.value,c=>(g(),D("option",{value:b(c),key:c},N(b(c)),9,Ve))),128))],40,Ye),r[8]||(r[8]=n("span",{"aria-hidden":"true"},".",-1)),n("select",{value:f.value,onInput:Z,onBlur:B,class:"cursor-pointer bg-transparent","aria-label":t.rangeMode?"Startdatum Monat auswählen":"Datum Monat auswählen",onClick:r[1]||(r[1]=P(()=>{},["stop"]))},[(g(),D(_,null,U(12,c=>n("option",{value:b(c),key:c},N(b(c)),9,Le)),64))],40,Be),r[9]||(r[9]=n("span",{"aria-hidden":"true"},".",-1)),n("input",{value:i.value,type:"text",inputmode:"numeric",class:"bg-transparent w-12","aria-label":t.rangeMode?"Startdatum Jahr eingeben":"Datum Jahr eingeben",onBlur:$,onClick:r[2]||(r[2]=P(()=>{},["stop"]))},null,40,_e)],64)):W("",!0),O.value&&t.rangeMode?(g(),D(_,{key:1},[r[10]||(r[10]=n("span",{class:"mr-2"},"-",-1)),n("select",{value:o.value,onInput:A,onBlur:B,class:"cursor-pointer bg-transparent","aria-label":"Enddatum Tag auswählen",onClick:r[3]||(r[3]=P(()=>{},["stop"]))},[(g(!0),D(_,null,U(C.value,c=>(g(),D("option",{value:b(c),key:c},N(b(c)),9,Fe))),128))],40,Ne),r[11]||(r[11]=n("span",{"aria-hidden":"true"},".",-1)),n("select",{value:h.value,onInput:d,onBlur:B,class:"cursor-pointer bg-transparent","aria-label":"Enddatum Monat auswählen",onClick:r[4]||(r[4]=P(()=>{},["stop"]))},[(g(),D(_,null,U(12,c=>n("option",{value:b(c),key:c},N(b(c)),9,Pe)),64))],40,Ae),r[12]||(r[12]=n("span",{"aria-hidden":"true"},".",-1)),n("input",{value:M.value,type:"text",inputmode:"numeric",class:"bg-transparent w-12","aria-label":"Enddatum Jahr eingeben",onBlur:q,onClick:r[5]||(r[5]=P(()=>{},["stop"]))},null,40,ze)],64)):W("",!0)],512),O.value?W("",!0):(g(),D("p",Re,N(t.$t("datepicker.select")),1)),n("div",je,[n("div",{class:"cursor-pointer hover:text-I0",tabindex:"0",onClick:r[6]||(r[6]=c=>t.$emit("showDatepicker")),onKeydown:r[7]||(r[7]=z(c=>t.$emit("showDatepicker"),["enter"])),role:"button","aria-label":j.value},[R(I(Oe),{class:"w-4","aria-hidden":"true"})],40,Je)])])]),_:1},8,["label","error","help","disabled"]))}}),He={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function Ke(k,e){return g(),D("svg",He,e[0]||(e[0]=[n("path",{fill:"currentColor",d:"M19.5 12a2.3 2.3 0 0 1-.78 1.729L7.568 23.54a1.847 1.847 0 0 1-2.439-2.773l9.752-8.579a.25.25 0 0 0 0-.376L5.129 3.233A1.847 1.847 0 0 1 7.568.46l11.148 9.808A2.31 2.31 0 0 1 19.5 12"},null,-1)]))}const ie={render:Ke},Ue={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function Ze(k,e){return g(),D("svg",Ue,e[0]||(e[0]=[n("path",{fill:"currentColor",d:"M16.147 1.952h-3.909a1.5 1.5 0 0 0 0 3h3.909a4.852 4.852 0 1 1 0 9.7h-9.01a.25.25 0 0 1-.25-.25V11.27a1 1 0 0 0-1.707-.707L.293 15.449a1 1 0 0 0 0 1.414L5.18 21.75a1 1 0 0 0 1.707-.707v-3.137a.25.25 0 0 1 .25-.25h9.01a7.852 7.852 0 1 0 0-15.7Z"},null,-1)]))}const qe={render:Ze},Ge={class:"flex justify-between items-center gap-x-2"},Qe={class:"truncate"},Xe=ne({__name:"DatepickerHeader",props:{label:{}},emits:["close"],setup(k,{expose:e}){const u=ae("closeButton");return e({closeButton:u}),(S,i)=>(g(),D("div",null,[n("div",Ge,[n("p",Qe,N(S.label??""),1),n("div",{ref_key:"closeButton",ref:u,class:"flex justify-center items-center cursor-pointer rounded-full size-8 shrink-0 grow-0",tabindex:"0","aria-label":"Dialog schließen",onClick:i[0]||(i[0]=f=>S.$emit("close")),onKeydown:i[1]||(i[1]=z(f=>S.$emit("close"),["enter"]))},[R(I(xe),{class:"h-4","aria-hidden":"true"})],544)]),i[2]||(i[2]=n("div",{class:"border-b border-b-primary mt-2"},null,-1))]))}});var x=(k=>(k[k.SELECT_START=0]="SELECT_START",k[k.SELECT_END=1]="SELECT_END",k[k.COMPLETE=2]="COMPLETE",k))(x||{});const T=new Map;T.set(0,"Januar");T.set(1,"Februar");T.set(2,"März");T.set(3,"April");T.set(4,"Mai");T.set(5,"Juni");T.set(6,"Juli");T.set(7,"August");T.set(8,"September");T.set(9,"Oktober");T.set(10,"November");T.set(11,"Dezember");const et=["onKeydown"],tt={class:"relative bg-M1 rounded-xl shadow-lg max-w-96 p-6 z-10"},at={class:"h-[23rem]"},nt={class:"flex justify-between items-center mb-4 h-8"},lt=["tabindex"],rt={class:"flex justify-center items-center basis-2/3 gap-x-px text-lg h-full"},st={class:"basis-1/2 shrink-0 grow-0 h-full"},ut=["value"],ot={class:"basis-1/2 shrink-0 grow-0 h-full"},it={class:"datepicker-grid grid grid-cols-7 gap-y-2 text-center leading-none"},dt=["tabindex","onClick","onKeydown"],ct={class:"select-none"},vt={key:0,class:"mt-2"},ft={key:1,class:"mt-2"},pt=["disabled"],te=1583,ht=ne({__name:"DatepickerOverlay",props:{datepickerExpanded:{type:Boolean},rangeMode:{type:Boolean},label:{},selectedStartDay:{},selectedStartMonth:{},selectedStartYear:{},selectedEndDay:{},selectedEndMonth:{},selectedEndYear:{},rangeSelectionState:{}},emits:["close","select","submitSelection","clearSelection"],setup(k,{emit:e}){const u=k,S=e,{t:i}=ye(),f=ae("datepickerHeader"),m=ae("confirmButton"),M=E(),h=new Date,o=E(h.getFullYear()),v=E(h.getMonth()),C=E(""),O=E(null),j=E(null);L(()=>u.datepickerExpanded,l=>{l&&ge(()=>{f.value?.closeButton?.focus(),Z()})}),L(C,l=>{const a=parseInt(l,10);a>1582&&(o.value=a)});const F=Y(()=>!u.selectedStartYear||!u.selectedStartMonth||!u.selectedStartDay?new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0):new Date(u.selectedStartYear,u.selectedStartMonth-1,u.selectedStartDay,0,0,0,0)),b=Y(()=>!u.selectedEndYear||!u.selectedEndMonth||!u.selectedEndDay?new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0):new Date(u.selectedEndYear,u.selectedEndMonth-1,u.selectedEndDay,0,0,0,0)),J=Y(()=>{const l=[];l.push(...$()),l[0].dayOfWeek!==1&&l.unshift(...q());const a=l.at(-1)?.dayOfWeek;return a!==void 0&&a!==7&&l.push(...V(a)),l}),A=Y(()=>v.value===0&&o.value===te);function Z(){o.value=F.value.getFullYear(),C.value=o.value.toString(10),v.value=F.value.getMonth()}function d(l,a){(O.value===null||a>O.value)&&(O.value=a,j.value=l)}function $(){const l=[],s=new Date(o.value,v.value+1,0,0,0,0,0).getDate();for(let w=1;w<=s;w++){const y=new Date(o.value,v.value,w,0,0,0,0),p={dayOfWeek:y.getDay()===0?7:y.getDay(),dayOfMonth:w,monthIndex:v.value,year:o.value,selectedStart:!1,selectedEnd:!1,withinRange:!1,selectable:!0};p.selectedStart=H(p.dayOfMonth,p.monthIndex,p.year),u.rangeMode&&(p.selectedEnd=G(p.dayOfMonth,p.monthIndex,p.year),p.withinRange=Q(p.dayOfMonth,p.monthIndex,p.year)),l.push(p)}return l}function q(){const l=[],a=new Date(o.value,v.value,0,0,0,0,0),s=a.getDay()===0?7:a.getDay(),w=a.getDate();for(let y=0;y<s;y++){a.setDate(w-y);const p={dayOfWeek:a.getDay()===0?7:a.getDay(),dayOfMonth:w-y,monthIndex:a.getMonth(),year:a.getFullYear(),selectedStart:!1,selectedEnd:!1,withinRange:!1,selectable:!A.value};p.selectedStart=H(p.dayOfMonth,p.monthIndex,p.year),u.rangeMode&&(p.selectedEnd=G(p.dayOfMonth,p.monthIndex,p.year),p.withinRange=Q(p.dayOfMonth,p.monthIndex,p.year)),l.unshift(p)}return l}function V(l){const a=[];let s;v.value+1===12?s=new Date(o.value+1,0,1,0,0,0,0):s=new Date(o.value,v.value+1,1,0,0,0,0);for(let w=1;w<=7-l;w++){s.setDate(w);const y={dayOfWeek:s.getDay()===0?7:s.getDay(),dayOfMonth:s.getDate(),monthIndex:s.getMonth(),year:s.getFullYear(),selectedStart:!1,selectedEnd:!1,withinRange:!1,selectable:!0};y.selectedStart=H(y.dayOfMonth,y.monthIndex,y.year),u.rangeMode&&(y.selectedEnd=G(y.dayOfMonth,y.monthIndex,y.year),y.withinRange=Q(y.dayOfMonth,y.monthIndex,y.year)),a.push(y)}return a}function H(l,a,s){return l===u.selectedStartDay&&a===u.selectedStartMonth-1&&s===u.selectedStartYear}function G(l,a,s){return u.rangeSelectionState!==x.SELECT_END&&l===u.selectedEndDay&&a===u.selectedEndMonth-1&&s===u.selectedEndYear}function Q(l,a,s){if(u.rangeSelectionState===x.SELECT_END||!u.selectedStartYear||!u.selectedStartMonth||!u.selectedStartDay)return!1;const w=new Date(s,a,l,0,0,0,0);return F.value<=w&&w<=b.value}function B(){if(!A.value){if(v.value===0){v.value=11,o.value-=1,C.value=o.value.toString(10);return}v.value-=1}}function ee(){if(v.value===11){v.value=0,o.value+=1,C.value=o.value.toString(10);return}v.value+=1}function t(l){l.selectable&&(S("select",l.dayOfMonth,l.monthIndex,l.year),u.rangeMode||S("close"))}function r(l){document.activeElement===c()&&(l.preventDefault(),f.value?.closeButton?.focus())}function c(){return u.rangeSelectionState===x.COMPLETE?m.value:j.value instanceof HTMLElement?j.value:null}function le(l){document.activeElement===f.value?.closeButton&&(l.preventDefault(),c()?.focus())}function ve(){S("clearSelection"),f.value?.closeButton?.focus()}function fe(){const l=parseInt(C.value,10);l<te?(C.value=te.toString(10),o.value=te):o.value=l}return(l,a)=>l.datepickerExpanded?(g(),D("div",{key:0,ref_key:"datepicker",ref:M,class:"fixed top-0 left-0 bottom-0 right-0 flex justify-center items-center z-30",onKeydown:[z(P(r,["exact"]),["tab"]),z(P(le,["shift"]),["tab"]),a[5]||(a[5]=z(s=>l.$emit("close"),["esc"]))]},[n("div",tt,[n("div",at,[R(Xe,{ref_key:"datepickerHeader",ref:f,label:l.label,onClose:a[0]||(a[0]=s=>S("close")),class:"mb-4"},null,8,["label"]),n("div",nt,[n("div",{class:re(["flex justify-center items-center rounded-full size-8",A.value?"opacity-50":"hover:bg-I0/15 cursor-pointer"]),tabindex:A.value?"-1":"0",onClick:B,onKeydown:z(B,["enter"])},[R(I(ie),{class:"rotate-180 h-4"})],42,lt),n("div",rt,[n("div",st,[ue(n("select",{"onUpdate:modelValue":a[1]||(a[1]=s=>v.value=s),class:"hover:bg-I0/15 border-0 bg-M1 text-right cursor-pointer rounded-l-md select-none w-full h-full px-2"},[(g(!0),D(_,null,U(I(T).entries(),(s,w)=>(g(),D("option",{key:w,value:s[0]},N(s[1]),9,ut))),128))],512),[[me,v.value]])]),n("div",ot,[ue(n("input",{"onUpdate:modelValue":a[2]||(a[2]=s=>C.value=s),type:"text",class:"hover:bg-I0/15 border-0 bg-M1 rounded-r-md text-left w-full h-full px-2",onBlur:fe},null,544),[[De,C.value]])])]),n("div",{class:"hover:bg-I0/15 flex justify-center items-center cursor-pointer rounded-full size-8",tabindex:"0",onClick:ee,onKeydown:z(ee,["enter"])},[R(I(ie),{class:"h-4"})],32)]),n("div",it,[a[6]||(a[6]=n("span",null,"Mo",-1)),a[7]||(a[7]=n("span",null,"Di",-1)),a[8]||(a[8]=n("span",null,"Mi",-1)),a[9]||(a[9]=n("span",null,"Do",-1)),a[10]||(a[10]=n("span",null,"Fr",-1)),a[11]||(a[11]=n("span",null,"Sa",-1)),a[12]||(a[12]=n("span",null,"So",-1)),(g(!0),D(_,null,U(J.value,(s,w)=>(g(),D("div",{key:w,class:re(["relative flex justify-center items-center h-full w-full",{"within-range-day":s.withinRange,"selected-start-day-container":s.selectedStart,"selected-end-day-container":s.selectedEnd}])},[n("div",{ref_for:!0,ref:y=>d(y,w),class:re(["day flex justify-center items-center",{"hover:bg-I0/15 cursor-pointer":s.selectable,"unselectable-day":!s.selectable,"selected-day":s.selectedStart||s.selectedEnd,"text-disabled-text":!s.withinRange&&s.monthIndex!==v.value}]),tabindex:s.selectable?"0":"-1",onClick:y=>t(s),onKeydown:z(y=>t(s),["enter"])},[n("span",ct,N(s.dayOfMonth),1)],42,dt)],2))),128))])]),l.rangeMode?(g(),D(_,{key:0},[l.rangeSelectionState===I(x).SELECT_START?(g(),D("p",vt," Bitte wählen Sie einen Startzeitpunkt aus ")):l.rangeSelectionState===I(x).SELECT_END?(g(),D("p",ft," Bitte wählen Sie einen Endzeitpunkt aus ")):l.rangeSelectionState===I(x).COMPLETE?(g(),D("button",{key:2,onClick:ve,class:"flex justify-start items-center gap-x-2 text-I0 underline mt-2"},[R(I(qe),{class:"h-4","aria-hidden":"true"}),a[13]||(a[13]=be(" Auswahl zurücksetzen "))])):W("",!0),a[14]||(a[14]=n("div",{class:"border-b border-b-disabled-background mt-3 mb-6"},null,-1)),n("button",{ref_key:"confirmButton",ref:m,class:"button-confirm button-primary",disabled:l.rangeSelectionState!==I(x).COMPLETE,onClick:a[3]||(a[3]=s=>S("submitSelection"))},N(I(i)("datepicker.confirm")),9,pt)],64)):W("",!0)]),n("div",{class:"absolute top-0 left-0 bottom-0 right-0 bg-opacity-60 bg-black z-0",onClick:a[4]||(a[4]=s=>S("close"))})],40,et)):W("",!0)}}),yt=Se(ht,[["__scopeId","data-v-a11b6023"]]),wt=ne({__name:"UiDatepicker",props:{ui:{}},setup(k){const e=k,u=de(),S=E(!1),i=E(0),f=E(0),m=E(0),M=E(0),h=E(0),o=E(0),v=E(x.SELECT_START);Me(O);const C=Y(()=>Ce(e.ui.frame).join(";"));L(()=>e.ui,O);function O(){e.ui.value===void 0&&(e.ui.value=new oe),i.value=e.ui.value.day?e.ui.value.day:0,f.value=e.ui.value.month?e.ui.value.month:0,m.value=e.ui.value.year?e.ui.value.year:0,e.ui.endValue===void 0&&(e.ui.endValue=new oe),M.value=e.ui.endValue.day?e.ui.endValue.day:0,h.value=e.ui.endValue.month?e.ui.endValue.month:0,o.value=e.ui.endValue.year?e.ui.endValue.year:0,v.value=x.SELECT_START}function j(){!e.ui.disabled&&!S.value&&(v.value=x.SELECT_START,S.value=!0)}function F(){S.value=!1,O()}function b(d,$,q){const V=new Date(q,$,d,0,0,0,0);if(e.ui.style===K.DatePickerSingleDate){J(V);return}switch(v.value){case x.SELECT_START:J(V);break;case x.SELECT_END:A(V);break;case x.COMPLETE:J(V);break}}function J(d){i.value=d.getDate(),f.value=d.getMonth()+1,m.value=d.getFullYear(),e.ui.style!==K.DatePickerDateRange?u.sendEvent(new se(e.ui.inputValue,0,X(),JSON.stringify({d:i.value,m:f.value,y:m.value}))):v.value=x.SELECT_END}function A(d){d.setHours(0,0,0,0);const $=new Date(m.value,f.value-1,i.value,0,0,0,0);d<$?(i.value=d.getDate(),f.value=d.getMonth()+1,m.value=d.getFullYear(),M.value=$.getDate(),h.value=$.getMonth()+1,o.value=$.getFullYear()):(M.value=d.getDate(),h.value=d.getMonth()+1,o.value=d.getFullYear()),v.value=x.COMPLETE}function Z(){switch(S.value=!1,e.ui.style){case K.DatePickerSingleDate:{u.sendEvent(new se(e.ui.inputValue,0,X(),JSON.stringify({d:i.value,m:f.value,y:m.value})));return}case K.DatePickerDateRange:{u.sendEvent(new ce(e.ui.inputValue,JSON.stringify({d:i.value,m:f.value,y:m.value}),e.ui.endInputValue,JSON.stringify({d:M.value,m:h.value,y:o.value}),0,X()));return}default:throw"unknown date picker style"}}return(d,$)=>d.ui.invisible?W("",!0):(g(),D("div",{key:0,class:"relative",style:Ee(C.value)},[R(We,{value:d.ui.value,label:d.ui.label,"error-text":d.ui.errorText,"supporting-text":d.ui.supportingText,disabled:d.ui.disabled,"datepicker-style":d.ui.style,"datepicker-expanded":S.value,"selected-start-year":m.value,"selected-start-month":f.value,"selected-start-day":i.value,"selected-end-year":o.value,"selected-end-month":h.value,"selected-end-day":M.value,"range-mode":d.ui.style===I(K).DatePickerDateRange,"input-value":d.ui.inputValue,"end-input-value":d.ui.endInputValue,onShowDatepicker:j},null,8,["value","label","error-text","supporting-text","disabled","datepicker-style","datepicker-expanded","selected-start-year","selected-start-month","selected-start-day","selected-end-year","selected-end-month","selected-end-day","range-mode","input-value","end-input-value"]),R(yt,{"datepicker-expanded":S.value,"range-mode":d.ui.style===I(K).DatePickerDateRange,label:d.ui.label,"selected-start-day":i.value,"selected-start-month":f.value,"selected-start-year":m.value,"selected-end-day":M.value,"selected-end-month":h.value,"selected-end-year":o.value,"range-selection-state":v.value,onClose:F,onSelect:b,onSubmitSelection:Z,onClearSelection:O},null,8,["datepicker-expanded","range-mode","label","selected-start-day","selected-start-month","selected-start-year","selected-end-day","selected-end-month","selected-end-year","range-selection-state"])],4))}});export{wt as default};
