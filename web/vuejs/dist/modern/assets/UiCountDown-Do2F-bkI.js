import{c}from"./colors-DR_pRruP.js";import{f as j}from"./frame-BFmZ95SY.js";import{d as E,r as h,u as N,g as f,m as V,I as A,c as n,o as l,b as t,a as v,E as p,h as r,l as F,f as H}from"./main-CNfc3Lso.js";import"./length-CE-uc3jn.js";const R={class:"flex justify-center space-x-8 grow"},U={key:0,class:"grow"},q={class:"text-6xl font-bold"},z={key:1,class:"grow"},L={class:"text-6xl font-bold"},T={class:"flex justify-center space-x-8 mt-4 md:mt-0 grow"},W={key:0,class:"grow"},Z={class:"text-6xl font-bold"},G={key:1,class:"grow"},J={class:"text-6xl font-bold"},X=E({__name:"UiCountDown",props:{ui:{}},setup(w){const i=h(0),g=h(void 0),o=w,b=N(),x=f(()=>{let e=j(o.ui.frame);return o.ui.textColor&&e.push(`color: ${c(o.ui.textColor)}`),e.join(";")});function k(e){const s=Math.floor(e/60),y=Math.floor(s/60),I=Math.floor(y/24),B=e%60,$=s%60,D=y%24;return{days:I,hours:D,minutes:$,seconds:B}}const m=f(()=>o.ui.separatorColor?`border-color: ${c(o.ui.separatorColor)}`:""),u=f(()=>{let e=0;return o.ui.duration&&(e=o.ui.duration),k(e)}),_=f(()=>o.ui.progressBackground?`background-color: ${c(o.ui.progressBackground)}`:"background-color: var(--M6)");function S(){return o.ui.progressColor?`background-color: ${c(o.ui.progressColor)}; width: ${i.value}%`:`background-color: var(--I0); width: ${i.value}%`}function C(){o.ui.action&&!o.ui.done&&b.sendEvent(new F(o.ui.action,H()))}function M(){let e=0;o.ui.duration&&(e=o.ui.duration),e-=1,e<=0&&(e=0),o.ui.duration=e,i.value=o.ui.duration/g.value*100}let a=0;function d(e){return e.toString().padStart(2,"0")}return V(()=>{if(a=setInterval(()=>{o.ui.duration!==void 0&&(o.ui.duration>0?M():(C(),console.log("countdown stopped"),a!==void 0&&clearInterval(a)))},1e3),g.value=o.ui.duration,i.value=100,o.ui.done){o.ui.duration=0,i.value=0;return}}),A(()=>{clearInterval(a)}),(e,s)=>o.ui.style?(l(),n("div",{key:1,class:"flex-1 space-y-1 overflow-hidden",style:r(x.value)},[t("div",{class:"w-full h-1.5 rounded-full overflow-hidden mt-1",style:r(_.value)},[t("div",{class:"h-full transition-all duration-300",style:r(S())},null,4)],4)],4)):(l(),n("div",{key:0,class:"text-center flex flex-col md:flex-row md:space-x-8",style:r(x.value)},[t("div",R,[o.ui.showDays?(l(),n("div",U,[t("p",q,p(d(u.value.days)),1),s[0]||(s[0]=t("p",{class:"text-lg"},"Tage",-1))])):v("",!0),t("div",{class:"border-l mt-2 mb-2",style:r(m.value)},null,4),o.ui.showHours?(l(),n("div",z,[t("p",L,p(d(u.value.hours)),1),s[1]||(s[1]=t("p",{class:"text-lg"},"Stunden",-1))])):v("",!0)]),t("div",{class:"border-l hidden md:block mt-2 mb-2",style:r(m.value)},null,4),t("div",T,[o.ui.showMinutes?(l(),n("div",W,[t("p",Z,p(d(u.value.minutes)),1),s[2]||(s[2]=t("p",{class:"text-lg"},"Minuten",-1))])):v("",!0),t("div",{class:"border-l mt-2 mb-2",style:r(m.value)},null,4),o.ui.showSeconds?(l(),n("div",G,[t("p",J,p(d(u.value.seconds)),1),s[3]||(s[3]=t("p",{class:"text-lg"},"Sekunden",-1))])):v("",!0)])],4))}});export{X as default};
