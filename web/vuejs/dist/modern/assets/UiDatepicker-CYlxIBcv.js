import{c as f,o as c,b as l,d as ae,u as fe,H as ee,r as w,g as O,i as ge,v as Se,a as L,F as k,y as B,k as z,G as _,e as $,t as P,s as y,N as De,f as W,U as oe,w as te,P as ye,n as K,E as we,_ as Ee,m as Me,Q as ce,R as A,h as ke}from"./main-BRwUW74M.js";import{_ as Ce}from"./InputWrapper.vue_vue_type_style_index_0_lang-18psBsVK.js";import{i as Te}from"./index-BHdQZMYO.js";import{C as Ie}from"./closeBold-C3ZhAVe8.js";import{f as $e}from"./frame-32SrAqKr.js";import"./index-Vcq4gwWv.js";import"./length-AdkHSc9u.js";const _e={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function Ve(g,a){return c(),f("svg",_e,a[0]||(a[0]=[l("path",{fill:"currentColor",d:"M7.5 10.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M12.5 10.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2M17.5 10.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2M7.5 14.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M12.5 14.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M17.5 14.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M7.5 18.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2M12.5 18.5h-1a1 1 0 0 0 0 2h1a1 1 0 1 0 0-2M17.5 18.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2"},null,-1),l("path",{fill:"currentColor",d:"M21.5 3h-2.75a.25.25 0 0 1-.25-.25V1a1 1 0 0 0-2 0v4.75a.75.75 0 1 1-1.5 0V3.5a.5.5 0 0 0-.5-.5H8.25A.25.25 0 0 1 8 2.751V1a1 1 0 1 0-2 0v4.75a.75.75 0 1 1-1.5 0V3.5A.5.5 0 0 0 4 3H2.5a2 2 0 0 0-2 2v17a2 2 0 0 0 2 2h19a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m0 18.5a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5v-12A.5.5 0 0 1 3 9h18a.5.5 0 0 1 .5.5Z"},null,-1)]))}const xe={render:Ve},Fe={class:"input-field relative z-0 !pr-10"},Be=["value","aria-label"],Le=["value"],Ye=["value","aria-label"],Ne=["value"],Ae=["value","aria-label"],Oe=["value"],ze=["value"],Pe=["value"],Re=["value"],He=["value"],Je={key:0,class:"text-placeholder-text"},je={class:"absolute top-0 bottom-0 right-4 flex items-center h-full"},Ke=["aria-label"],Ue=ae({__name:"DatepickerInput",props:{value:{},label:{},errorText:{},supportingText:{},disabled:{type:Boolean},datepickerStyle:{},datepickerExpanded:{type:Boolean},selectedStartDate:{},selectedEndDate:{},rangeMode:{type:Boolean},inputValue:{},endInputValue:{}},emits:["showDatepicker"],setup(g){const a=g,s=fe(),p=ee("datepickerInputContainer"),u=w(0),v=w(r(1)),h=w(r(1)),m=w(0),d=w(r(1)),D=w(r(1)),C=O(()=>new Date(u.value,parseInt(v.value,10),0,0,0,0,0).getDate()),T=O(()=>new Date(m.value,parseInt(d.value,10),0,0,0,0,0).getDate()),M=O(()=>!a.value||!a.value.year?!1:!!a.selectedStartDate&&(!a.rangeMode||!!a.selectedEndDate)),V=O(()=>a.rangeMode?`Zeitraumauswahldialog öffnen, ${Y.value}`:`Datumsauswahldialog öffnen, ${Y.value}`),Y=O(()=>{const n=new Date(u.value,parseInt(v.value,10)-1,parseInt(h.value,10),0,0,0,0);if(!a.rangeMode)return`Ausgewähltes Datum: ${n.toLocaleDateString()}`;const e=new Date(m.value,parseInt(d.value,10)-1,parseInt(D.value,10),0,0,0,0);return`Ausgewählter Zeitraum: ${n.toLocaleDateString()} bis ${e.toLocaleDateString()}`});function r(n){return Te(n)&&(n=n.toString(10)),n.length===1?`0${n}`:n}function x(n){n.target&&(h.value=n.target.value)}function N(n){n.target&&(D.value=n.target.value)}function F(n){n.target&&(v.value=n.target.value,Z())}function ne(n){n.target&&(d.value=n.target.value,q())}function le(n){if(!n.target)return;const e=n.target.value;if(!/^[0-9]+$/.test(e))return;const t=parseInt(e,10);if(t<=1582){u.value=0,u.value=a.selectedStartDate?.getFullYear()||new Date().getFullYear();return}u.value=t,Z(),I(n)}function re(n){if(!n.target)return;const e=n.target.value;if(!/^[0-9]+$/.test(e))return;const t=parseInt(e,10);if(t<=1582){m.value=0,m.value=a.selectedEndDate?.getFullYear()||new Date().getFullYear();return}m.value=t,q(),I(n)}function Z(){parseInt(h.value,10)>C.value&&(h.value=r(C.value))}function q(){parseInt(D.value,10)>T.value&&(D.value=r(T.value))}function G(){if(!a.rangeMode)return!1;const n=new Date(u.value,parseInt(v.value,10),parseInt(h.value,10),0,0,0,0);return new Date(m.value,parseInt(d.value,10),parseInt(D.value,10),0,0,0,0)<n}function Q(){const n=h.value,e=v.value,t=u.value;h.value=D.value,v.value=d.value,u.value=m.value,D.value=n,d.value=e,m.value=t}function I(n){if(!n.relatedTarget)return;const e=n.relatedTarget;p.value?.contains(e)||se()}function se(){G()&&Q();const n=parseInt(h.value,10),e=parseInt(v.value,10),t=parseInt(D.value,10),o=parseInt(d.value,10);a.rangeMode?s.sendEvent(new De(a.inputValue,JSON.stringify({d:n,m:e,y:u.value}),a.endInputValue,JSON.stringify({d:t,m:o,y:m.value}),0,W())):s.sendEvent(new oe(a.inputValue,0,W(),JSON.stringify({d:n,m:e,y:u.value})))}function J(){const n=new Date;n.setHours(0,0,0,0),a.selectedStartDate?(u.value=a.selectedStartDate.getFullYear(),v.value=r(a.selectedStartDate.getMonth()+1),h.value=r(a.selectedStartDate.getDate())):(u.value=n.getFullYear(),v.value=r(n.getMonth()+1),h.value=r(n.getDate()))}function X(){const n=new Date;n.setHours(0,0,0,0),a.selectedEndDate?(m.value=a.selectedEndDate.getFullYear(),d.value=r(a.selectedEndDate.getMonth()+1),D.value=r(a.selectedEndDate.getDate())):(m.value=n.getFullYear(),d.value=r(n.getMonth()+1),D.value=r(n.getDate()))}function ue(){J(),X(),te(()=>a.selectedStartDate,J),te(()=>a.selectedEndDate,X)}return ue(),(n,e)=>(c(),ge(Ce,{label:n.label,error:n.errorText,help:n.supportingText,disabled:n.disabled,"no-hover-effect":!0},{default:Se(()=>[l("div",Fe,[l("div",{ref_key:"datepickerInputContainer",ref:p},[M.value?(c(),f(k,{key:0},[l("select",{value:h.value,onInput:x,onBlur:I,class:"cursor-pointer bg-transparent","aria-label":n.rangeMode?"Startdatum Tag auswählen":"Datum Tag auswählen",onClick:e[0]||(e[0]=B(()=>{},["stop"]))},[(c(!0),f(k,null,z(C.value,t=>(c(),f("option",{value:r(t),key:t},_(r(t)),9,Le))),128))],40,Be),e[8]||(e[8]=l("span",{"aria-hidden":"true"},".",-1)),l("select",{value:v.value,onInput:F,onBlur:I,class:"cursor-pointer bg-transparent","aria-label":n.rangeMode?"Startdatum Monat auswählen":"Datum Monat auswählen",onClick:e[1]||(e[1]=B(()=>{},["stop"]))},[(c(),f(k,null,z(12,t=>l("option",{value:r(t),key:t},_(r(t)),9,Ne)),64))],40,Ye),e[9]||(e[9]=l("span",{"aria-hidden":"true"},".",-1)),l("input",{value:u.value,type:"text",inputmode:"numeric",class:"bg-transparent w-12","aria-label":n.rangeMode?"Startdatum Jahr eingeben":"Datum Jahr eingeben",onBlur:le,onClick:e[2]||(e[2]=B(()=>{},["stop"]))},null,40,Ae)],64)):L("",!0),M.value&&n.rangeMode?(c(),f(k,{key:1},[e[10]||(e[10]=l("span",{class:"mr-2"},"-",-1)),l("select",{value:D.value,onInput:N,onBlur:I,class:"cursor-pointer bg-transparent","aria-label":"Enddatum Tag auswählen",onClick:e[3]||(e[3]=B(()=>{},["stop"]))},[(c(!0),f(k,null,z(T.value,t=>(c(),f("option",{value:r(t),key:t},_(r(t)),9,ze))),128))],40,Oe),e[11]||(e[11]=l("span",{"aria-hidden":"true"},".",-1)),l("select",{value:d.value,onInput:ne,onBlur:I,class:"cursor-pointer bg-transparent","aria-label":"Enddatum Monat auswählen",onClick:e[4]||(e[4]=B(()=>{},["stop"]))},[(c(),f(k,null,z(12,t=>l("option",{value:r(t),key:t},_(r(t)),9,Re)),64))],40,Pe),e[12]||(e[12]=l("span",{"aria-hidden":"true"},".",-1)),l("input",{value:m.value,type:"text",inputmode:"numeric",class:"bg-transparent w-12","aria-label":"Enddatum Jahr eingeben",onBlur:re,onClick:e[5]||(e[5]=B(()=>{},["stop"]))},null,40,He)],64)):L("",!0)],512),M.value?L("",!0):(c(),f("p",Je,_(n.$t("datepicker.select")),1)),l("div",je,[l("div",{class:"cursor-pointer hover:text-I0",tabindex:"0",onClick:e[6]||(e[6]=t=>n.$emit("showDatepicker")),onKeydown:e[7]||(e[7]=$(t=>n.$emit("showDatepicker"),["enter"])),role:"button","aria-label":V.value},[P(y(xe),{class:"w-4","aria-hidden":"true"})],40,Ke)])])]),_:1},8,["label","error","help","disabled"]))}}),We={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function Ze(g,a){return c(),f("svg",We,a[0]||(a[0]=[l("path",{fill:"currentColor",d:"M19.5 12a2.3 2.3 0 0 1-.78 1.729L7.568 23.54a1.847 1.847 0 0 1-2.439-2.773l9.752-8.579a.25.25 0 0 0 0-.376L5.129 3.233A1.847 1.847 0 0 1 7.568.46l11.148 9.808A2.31 2.31 0 0 1 19.5 12"},null,-1)]))}const ve={render:Ze},qe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function Ge(g,a){return c(),f("svg",qe,a[0]||(a[0]=[l("path",{fill:"currentColor",d:"M16.147 1.952h-3.909a1.5 1.5 0 0 0 0 3h3.909a4.852 4.852 0 1 1 0 9.7h-9.01a.25.25 0 0 1-.25-.25V11.27a1 1 0 0 0-1.707-.707L.293 15.449a1 1 0 0 0 0 1.414L5.18 21.75a1 1 0 0 0 1.707-.707v-3.137a.25.25 0 0 1 .25-.25h9.01a7.852 7.852 0 1 0 0-15.7Z"},null,-1)]))}const Qe={render:Ge},Xe={class:"flex justify-between items-center gap-x-2"},et={class:"truncate"},tt=ae({__name:"DatepickerHeader",props:{label:{}},emits:["close"],setup(g,{expose:a}){const s=ee("closeButton");return a({closeButton:s}),(p,u)=>(c(),f("div",null,[l("div",Xe,[l("p",et,_(p.label??""),1),l("div",{ref_key:"closeButton",ref:s,class:"flex justify-center items-center cursor-pointer rounded-full size-8 shrink-0 grow-0",tabindex:"0","aria-label":"Dialog schließen",onClick:u[0]||(u[0]=v=>p.$emit("close")),onKeydown:u[1]||(u[1]=$(v=>p.$emit("close"),["enter"]))},[P(y(Ie),{class:"h-4","aria-hidden":"true"})],544)]),u[2]||(u[2]=l("div",{class:"border-b border-b-primary mt-2"},null,-1))]))}});var S=(g=>(g[g.SELECT_START=0]="SELECT_START",g[g.SELECT_END=1]="SELECT_END",g[g.COMPLETE=2]="COMPLETE",g))(S||{});/*!
 * weeknumber
 * @author commenthol
 * @license Unlicense
 */const at=6e4,nt=6048e5,lt=(g,a)=>(g.getTimezoneOffset()-a.getTimezoneOffset())*at,pe=(g=new Date)=>{const a=(g.getDay()+6)%7,s=new Date(g);s.setDate(g.getDate()-a+3);const p=new Date(s.getFullYear(),0,1);return p.getDay()!==4&&p.setMonth(0,1+(11-p.getDay())%7),1+Math.floor((s-p+lt(p,s))/nt)},E=new Map;E.set(0,"Januar");E.set(1,"Februar");E.set(2,"März");E.set(3,"April");E.set(4,"Mai");E.set(5,"Juni");E.set(6,"Juli");E.set(7,"August");E.set(8,"September");E.set(9,"Oktober");E.set(10,"November");E.set(11,"Dezember");const rt=["onKeydown"],st={class:"relative bg-M1 rounded-xl shadow-lg p-6 z-10"},ut={class:"h-[23rem]"},ot={class:"datepicker-months"},it={class:"flex justify-between items-center mb-4 h-8"},dt=["tabindex"],ct={class:"flex justify-center items-center basis-2/3 text-lg h-full"},vt={class:"basis-1/2 shrink-0 grow-0 h-full"},pt=["value","onChange"],ft=["value"],gt={class:"basis-1/2 shrink-0 grow-0 h-full"},Dt=["value","onKeydown","onChange","onBlur"],ht={class:"datepicker-grid grid grid-cols-7 gap-y-2 text-center leading-none"},bt=["tabindex","onClick","onKeydown"],mt={class:"select-none"},St={key:0,class:"mt-2"},yt={key:1,class:"mt-2"},wt={class:"footer"},Et={key:0,class:"actions"},Mt={class:"actions"},kt=["disabled"],U=1583,Ct=ae({__name:"DatepickerOverlay",props:{rangeMode:{type:Boolean},doubleMode:{type:Boolean},label:{},selectedStartDate:{},selectedEndDate:{},rangeSelectionState:{}},emits:["close","select","submitSelection","clearSelection"],setup(g,{emit:a}){const s=g,p=a,{t:u}=ye(),v=ee("datepickerHeader"),h=ee("confirmButton"),m=w(),d=w(s.selectedStartDate?s.selectedStartDate.getMonth():new Date().getMonth()),D=w(s.selectedStartDate?s.selectedStartDate.getFullYear():new Date().getFullYear()),C=w(null),T=w(null),M=s.doubleMode?2:1,V=O(()=>d.value===0&&D.value===U);function Y(e){return(d.value+e)%12}function r(e){return D.value+(d.value+e>11?1:0)}function x(e,t){const o=e.target;if(!o)return;const i=parseInt(o.value,10)-t;i<0?(d.value=d.value+12,D.value--):d.value=i}function N(e,t){const o=e.target;!o||!o.valueAsNumber||(console.warn(t,o.valueAsNumber,Math.max(U,o.valueAsNumber-(d.value-t<0?1:0))),D.value=Math.max(U,o.valueAsNumber-(d.value-t<0?1:0)))}function F(e,t){(C.value===null||t>C.value)&&(C.value=t,T.value=e)}function ne(e){const t=[],o=d.value+e,i=D.value+(o>11?1:0),R=new Date(i,o,1),H=new Date(i,o+1,0),b=new Date(R);for(;b.getDay()!==1;)b.setDate(b.getDate()-1);for(;b<=H||pe(b)===pe(H);){const he=b.getDay()===0?7:b.getDay(),j=b.getDate(),be=re(j,b.getMonth(),b.getFullYear());let ie=!1,de=!1;s.rangeMode&&(ie=Z(j,b.getMonth(),b.getFullYear()),de=q(j,b.getMonth(),b.getFullYear()));const me=le(j,b.getMonth(),b.getFullYear());t.push({dayOfWeek:he,dayOfMonth:j,monthIndex:b.getMonth(),year:b.getFullYear(),selectedStart:be,selectedEnd:ie,withinRange:de,selectable:me,otherMonth:b.getMonth()!==o}),b.setDate(b.getDate()+1)}return t}function le(e,t,o){return o>=U}function re(e,t,o){return!!s.selectedStartDate&&e===s.selectedStartDate.getDate()&&t===s.selectedStartDate.getMonth()&&o===s.selectedStartDate.getFullYear()}function Z(e,t,o){return!!s.selectedEndDate&&s.rangeSelectionState!==S.SELECT_END&&e===s.selectedEndDate.getDate()&&t===s.selectedEndDate.getMonth()&&o===s.selectedEndDate.getFullYear()}function q(e,t,o){if(!s.selectedStartDate||!s.selectedEndDate||s.rangeSelectionState===S.SELECT_END)return!1;const i=new Date(o,t,e,0,0,0,0);return s.selectedStartDate<=i&&i<=s.selectedEndDate}function G(){V.value||(d.value===0?(d.value=11,D.value--):d.value--)}function Q(){d.value===11?(d.value=0,D.value++):d.value++}function I(e){e.selectable&&(p("select",e.dayOfMonth,e.monthIndex,e.year),s.rangeMode||p("close"))}function se(e){document.activeElement===J()&&(e.preventDefault(),v.value?.closeButton?.focus())}function J(){return s.rangeSelectionState===S.COMPLETE?h.value:T.value instanceof HTMLElement?T.value:null}function X(e){document.activeElement===v.value?.closeButton&&(e.preventDefault(),J()?.focus())}function ue(){p("clearSelection"),v.value?.closeButton?.focus()}function n(){if(s.selectedStartDate){for(let e=0;e<M;e++)if(s.selectedStartDate.getFullYear()===D.value&&s.selectedStartDate.getMonth()===d.value+e)return;d.value=s.selectedStartDate.getMonth(),D.value=s.selectedStartDate.getFullYear()}}return te(()=>s.selectedStartDate,n),(e,t)=>(c(),f("div",{ref_key:"datepicker",ref:m,class:K(["datepicker",{"double-mode":e.doubleMode}]),onKeydown:[$(B(se,["exact"]),["tab"]),$(B(X,["shift"]),["tab"]),t[3]||(t[3]=$(o=>e.$emit("close"),["esc"]))]},[l("div",st,[l("div",ut,[P(tt,{ref_key:"datepickerHeader",ref:v,label:e.label,class:"mb-4",onClose:t[0]||(t[0]=o=>p("close"))},null,8,["label"]),l("div",ot,[(c(!0),f(k,null,z(y(M),o=>(c(),f("div",{key:`date_picker_month_${o}`,class:"datepicker-content"},[l("div",it,[l("button",{class:K(["flex justify-center items-center rounded-full size-8",{"opacity-50":V.value&&o===1,"hover:bg-I0/15 cursor-pointer":!V.value,"opacity-0 pointer-events-none":o!==1}]),tabindex:V.value?"-1":"0",onClick:G,onKeydown:$(G,["enter"])},[P(y(ve),{class:"rotate-180 h-4"})],42,dt),l("div",ct,[l("div",vt,[l("select",{value:Y(o-1),class:"hover:bg-I0/15 border-0 bg-M1 text-right cursor-pointer rounded-l-md select-none w-full h-full pr-0.5 pt-px",onChange:i=>x(i,o-1)},[(c(!0),f(k,null,z(y(E).entries(),(i,R)=>(c(),f("option",{key:R,value:i[0]},_(i[1]),9,ft))),128))],40,pt)]),l("div",gt,[l("input",{value:r(o-1),type:"number",step:"1",min:U,class:"hover:bg-I0/15 border-0 bg-M1 rounded-r-md text-left w-full h-full appearance-none pl-0.5",onKeydown:$(i=>N(i,o-1),["enter"]),onChange:i=>N(i,o-1),onBlur:i=>N(i,o-1)},null,40,Dt)])]),l("button",{class:K(["hover:bg-I0/15 flex justify-center items-center cursor-pointer rounded-full size-8",o!==y(M)?"opacity-0 pointer-events-none":""]),tabindex:"0",onClick:Q,onKeydown:$(Q,["enter"])},[P(y(ve),{class:"h-4"})],34)]),l("div",ht,[t[4]||(t[4]=l("span",null,"Mo",-1)),t[5]||(t[5]=l("span",null,"Di",-1)),t[6]||(t[6]=l("span",null,"Mi",-1)),t[7]||(t[7]=l("span",null,"Do",-1)),t[8]||(t[8]=l("span",null,"Fr",-1)),t[9]||(t[9]=l("span",null,"Sa",-1)),t[10]||(t[10]=l("span",null,"So",-1)),(c(!0),f(k,null,z(ne(o-1),(i,R)=>(c(),f("div",{key:R,class:K(["relative flex justify-center items-center h-full w-full",{"within-range-day":i.withinRange,"selected-start-day-container":i.selectedStart,"selected-end-day-container":i.selectedEnd,"other-month-day":i.otherMonth}])},[l("div",{ref_for:!0,ref:H=>F(H,R),class:K(["day flex justify-center items-center",{"hover:bg-I0/15 cursor-pointer":i.selectable,"unselectable-day":!i.selectable,"selected-day":i.selectedStart||i.selectedEnd,"text-disabled-text":!i.withinRange&&i.monthIndex!==Y(o-1)}]),tabindex:i.selectable?"0":"-1",onClick:H=>I(i),onKeydown:$(H=>I(i),["enter"])},[l("span",mt,_(i.dayOfMonth),1)],42,bt)],2))),128))])]))),128))])]),e.rangeMode?(c(),f(k,{key:0},[e.rangeSelectionState===y(S).SELECT_START?(c(),f("p",St," Bitte wählen Sie einen Startzeitpunkt aus ")):e.rangeSelectionState===y(S).SELECT_END?(c(),f("p",yt," Bitte wählen Sie einen Endzeitpunkt aus ")):e.rangeSelectionState===y(S).COMPLETE?(c(),f("button",{key:2,class:"flex justify-start items-center gap-x-2 text-I0 underline mt-2",onClick:ue},[P(y(Qe),{class:"h-4","aria-hidden":"true"}),t[11]||(t[11]=we(" Auswahl zurücksetzen "))])):L("",!0),t[12]||(t[12]=l("div",{class:"border-b border-b-disabled-background mt-3 mb-6"},null,-1)),l("div",wt,[e.doubleMode?(c(),f("div",Et)):L("",!0),l("div",Mt,[l("button",{ref_key:"confirmButton",ref:h,class:"button-confirm button-primary",disabled:e.rangeSelectionState===y(S).SELECT_END,onClick:t[1]||(t[1]=o=>p("submitSelection"))},_(y(u)("datepicker.confirm")),9,kt)])])],64)):L("",!0)]),l("div",{class:"absolute top-0 left-0 bottom-0 right-0 bg-opacity-60 bg-black z-0",onClick:t[2]||(t[2]=o=>p("close"))})],42,rt))}}),Tt=Ee(Ct,[["__scopeId","data-v-3e978053"]]),Lt=ae({__name:"UiDatepicker",props:{ui:{}},setup(g){const a=g,s=fe(),p=w(!1),u=w(),v=w(),h=w(S.SELECT_START);Me(d);const m=O(()=>$e(a.ui.frame).join(";"));te(()=>a.ui,d);function d(){a.ui.value===void 0&&(a.ui.value=new ce);const r=a.ui.value.year!==void 0&&a.ui.value.month!==void 0&&a.ui.value.day!==void 0;u.value=r?new Date(a.ui.value.year,a.ui.value.month-1,a.ui.value.day,0,0,0,0):void 0,a.ui.endValue===void 0&&(a.ui.endValue=new ce);const x=a.ui.endValue.year!==void 0&&a.ui.endValue.month!==void 0&&a.ui.endValue.day!==void 0;v.value=x?new Date(a.ui.endValue.year,a.ui.endValue.month-1,a.ui.endValue.day,0,0,0,0):void 0,h.value=S.SELECT_START}function D(){!a.ui.disabled&&!p.value&&(h.value=S.SELECT_START,p.value=!0)}function C(){p.value=!1,d()}function T(r,x,N){const F=new Date(N,x,r,0,0,0,0);if(a.ui.style===A.DatePickerSingleDate){M(F);return}switch(h.value){case S.SELECT_START:M(F);break;case S.SELECT_END:V(F);break;case S.COMPLETE:M(F);break}}function M(r){u.value=new Date(r),u.value.setHours(0,0,0,0),a.ui.style!==A.DatePickerDateRange?s.sendEvent(new oe(a.ui.inputValue,0,W(),JSON.stringify({d:u.value.getDate(),m:u.value.getMonth()+1,y:u.value.getFullYear()}))):h.value=S.SELECT_END}function V(r){u.value&&(r.setHours(0,0,0,0),r<u.value?(v.value=new Date(u.value),u.value=new Date(r)):v.value=new Date(r),h.value=S.COMPLETE)}function Y(){if(p.value=!1,!(!u.value||a.ui.style===A.DatePickerDateRange&&!v.value))switch(a.ui.style){case A.DatePickerSingleDate:{s.sendEvent(new oe(a.ui.inputValue,0,W(),JSON.stringify({d:u.value.getDate(),m:u.value.getMonth()+1,y:u.value.getFullYear()})));return}case A.DatePickerDateRange:{s.sendEvent(new De(a.ui.inputValue,JSON.stringify({d:u.value.getDate(),m:u.value.getMonth()+1,y:u.value.getFullYear()}),a.ui.endInputValue,JSON.stringify({d:v.value.getDate(),m:v.value.getMonth()+1,y:v.value.getFullYear()}),0,W()));return}default:throw"unknown date picker style"}}return(r,x)=>r.ui.invisible?L("",!0):(c(),f("div",{key:0,class:"relative",style:ke(m.value)},[P(Ue,{value:r.ui.value,label:r.ui.label,"error-text":r.ui.errorText,"supporting-text":r.ui.supportingText,disabled:r.ui.disabled,"datepicker-style":r.ui.style,"datepicker-expanded":p.value,"selected-start-date":u.value,"selected-end-date":v.value,"range-mode":r.ui.style===y(A).DatePickerDateRange,"input-value":r.ui.inputValue,"end-input-value":r.ui.endInputValue,onShowDatepicker:D},null,8,["value","label","error-text","supporting-text","disabled","datepicker-style","datepicker-expanded","selected-start-date","selected-end-date","range-mode","input-value","end-input-value"]),p.value?(c(),ge(Tt,{key:0,"range-mode":r.ui.style===y(A).DatePickerDateRange,"double-mode":r.ui.doubleMode,label:r.ui.label,"selected-start-date":u.value,"selected-end-date":v.value,"range-selection-state":h.value,onClose:C,onSelect:T,onSubmitSelection:Y,onClearSelection:d},null,8,["range-mode","double-mode","label","selected-start-date","selected-end-date","range-selection-state"])):L("",!0)],4))}});export{Lt as default};
