import{d as B,r as C,m as F,q as d,s as T,g as E,c as _,i as u,o as a,t as S,v as m,x as V,y as $,b as p,h as x,j as y,z as D,T as K,B as v,a as N,C as r,e as h}from"./main-6AhpQ-bJ.js";import{c as i}from"./length-CE-uc3jn.js";let n=0;function O(){n===0&&(document.body.style.overflow="hidden"),n++}function j(){n=Math.max(0,n-1),n===0&&(document.body.style.overflow="visible")}const q={key:0},z=["onKeydown"],I=B({__name:"UiModal",props:{ui:{}},setup(b){const o=b,c=C();let s,l;F(()=>{o.ui.allowBackgroundScrolling||O(),o.ui.modalType!==d.ModalTypeOverlay&&g()}),T(()=>{o.ui.allowBackgroundScrolling||j()});const w=E(()=>{const e=[];return o.ui.right&&e.push(`right: ${i(o.ui.right)}`),o.ui.top&&e.push(`top: ${i(o.ui.top)}`),o.ui.left&&e.push(`left: ${i(o.ui.left)}`),o.ui.bottom&&e.push(`bottom: ${i(o.ui.bottom)}`),e.join(";")});function g(){const e=c.value?.querySelectorAll('[tabindex="0"], button:not([tabindex="-1"])')??[],t=e[0],f=e[e.length-1];t&&(s=t,s.focus()),f&&(l=f)}function k(e){if(!e.shiftKey&&document.activeElement===l){e.preventDefault(),s?.focus();return}}function M(e){if(document.activeElement===s){e.preventDefault(),l?.focus();return}}return(e,t)=>e.ui.content?e.ui.modalType==S(d).ModalTypeOverlay?(a(),u(v,{key:1,to:"#ora-overlay"},[m(K,null,{default:V(()=>[$(p("div",{class:"pointer-events-auto fixed",style:x(w.value)},[m(y,{ui:e.ui.content,class:""},null,8,["ui"])],4),[[D,e.ui.content]])]),_:1})])):(a(),u(v,{key:2,to:"#ora-modals"},[p("div",{ref_key:"dialogContainer",ref:c,class:"pointer-events-auto fixed",onKeydown:[h(r(k,["exact"]),["tab"]),h(r(M,["shift"]),["tab"])]},[e.ui.content?(a(),u(y,{key:0,ui:e.ui.content,class:"h-screen w-screen",onClick:t[0]||(t[0]=r(()=>{},["stop"]))},null,8,["ui"])):N("",!0)],40,z)])):(a(),_("div",q))}});export{I as default};
