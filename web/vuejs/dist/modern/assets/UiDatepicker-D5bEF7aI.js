import{c as g,o as p,b as n,d as re,u as he,H as le,r as w,w as _,g as N,i as ge,v as Me,a as z,F as x,y as F,k as R,G as A,e as L,t as J,s as C,N as ye,f as ee,U as ie,P as we,n as Q,E as ke,_ as Ce,m as Te,Q as ve,R as W,h as Ie}from"./main-Bzid6gLo.js";import{_ as $e}from"./InputWrapper.vue_vue_type_style_index_0_lang-BHfAmI4U.js";import{i as Ye}from"./index-BHdQZMYO.js";import{C as _e}from"./closeBold-DftR9n1p.js";import{f as xe}from"./frame-32SrAqKr.js";import"./index-Vcq4gwWv.js";import"./length-AdkHSc9u.js";const Ve={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function Be(y,e){return p(),g("svg",Ve,e[0]||(e[0]=[n("path",{fill:"currentColor",d:"M7.5 10.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M12.5 10.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2M17.5 10.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2M7.5 14.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M12.5 14.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M17.5 14.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M7.5 18.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2M12.5 18.5h-1a1 1 0 0 0 0 2h1a1 1 0 1 0 0-2M17.5 18.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2"},null,-1),n("path",{fill:"currentColor",d:"M21.5 3h-2.75a.25.25 0 0 1-.25-.25V1a1 1 0 0 0-2 0v4.75a.75.75 0 1 1-1.5 0V3.5a.5.5 0 0 0-.5-.5H8.25A.25.25 0 0 1 8 2.751V1a1 1 0 1 0-2 0v4.75a.75.75 0 1 1-1.5 0V3.5A.5.5 0 0 0 4 3H2.5a2 2 0 0 0-2 2v17a2 2 0 0 0 2 2h19a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m0 18.5a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5v-12A.5.5 0 0 1 3 9h18a.5.5 0 0 1 .5.5Z"},null,-1)]))}const Le={render:Be},Ne={class:"input-field relative z-0 !pr-10"},Ae=["value","aria-label"],Oe=["value"],Fe=["value","aria-label"],ze=["value"],Pe=["value","aria-label"],Re=["value"],Je=["value"],je=["value"],Ke=["value"],He=["value"],Ue={key:0,class:"text-placeholder-text"},We={class:"absolute top-0 bottom-0 right-4 flex items-center h-full"},Ze=["aria-label"],qe=re({__name:"DatepickerInput",props:{value:{},label:{},errorText:{},supportingText:{},disabled:{type:Boolean},datepickerStyle:{},datepickerExpanded:{type:Boolean},selectedStartYear:{},selectedStartMonth:{},selectedStartDay:{},selectedEndYear:{},selectedEndMonth:{},selectedEndDay:{},rangeMode:{type:Boolean},inputValue:{},endInputValue:{}},emits:["showDatepicker"],setup(y){const e=y,a=he(),f=le("datepickerInputContainer"),d=w(e.selectedStartYear),h=w(S(e.selectedStartMonth)),m=w(S(e.selectedStartDay)),E=w(e.selectedEndYear),b=w(S(e.selectedEndMonth)),o=w(S(e.selectedEndDay));_(()=>e.selectedStartYear,t=>{d.value=t}),_(()=>e.selectedEndYear,t=>{E.value=t}),_(()=>e.selectedStartMonth,t=>{h.value=S(t)}),_(()=>e.selectedEndMonth,t=>{b.value=S(t)}),_(()=>e.selectedStartDay,t=>{m.value=S(t)}),_(()=>e.selectedEndDay,t=>{o.value=S(t)});const M=N(()=>new Date(d.value,parseInt(h.value,10),0,0,0,0,0).getDate()),V=N(()=>new Date(E.value,parseInt(b.value,10),0,0,0,0,0).getDate()),$=N(()=>!e.value||!e.value.year||(new Date().setFullYear(e.selectedStartYear,e.selectedStartMonth-1,e.selectedStartDay),!e.selectedStartYear||!e.selectedStartMonth||!e.selectedStartDay)?!1:e.rangeMode?!!(e.selectedEndYear&&e.selectedEndMonth&&e.selectedEndDay):!0),P=N(()=>e.rangeMode?`Zeitraumauswahldialog öffnen, ${j.value}`:`Datumsauswahldialog öffnen, ${j.value}`),j=N(()=>{const t=new Date(d.value,parseInt(h.value,10)-1,parseInt(m.value,10),0,0,0,0);if(!e.rangeMode)return`Ausgewähltes Datum: ${t.toLocaleDateString()}`;const l=new Date(E.value,parseInt(b.value,10)-1,parseInt(o.value,10),0,0,0,0);return`Ausgewählter Zeitraum: ${t.toLocaleDateString()} bis ${l.toLocaleDateString()}`});function S(t){return Ye(t)&&(t=t.toString(10)),t.length===1?`0${t}`:t}function Y(t){t.target&&(m.value=t.target.value)}function K(t){t.target&&(o.value=t.target.value)}function Z(t){t.target&&(h.value=t.target.value,B())}function c(t){t.target&&(b.value=t.target.value,te())}function T(t){if(!t.target)return;const l=t.target.value;if(!/^[0-9]+$/.test(l))return;const v=parseInt(l,10);if(v<=1582){d.value=0,d.value=e.selectedStartYear;return}d.value=v,B(),O(t)}function q(t){if(!t.target)return;const l=t.target.value;if(!/^[0-9]+$/.test(l))return;const v=parseInt(l,10);if(v<=1582){E.value=0,E.value=e.selectedEndYear;return}E.value=v,te(),O(t)}function B(){parseInt(m.value,10)>M.value&&(m.value=S(M.value))}function te(){parseInt(o.value,10)>V.value&&(o.value=S(V.value))}function se(){if(!e.rangeMode)return!1;const t=new Date(d.value,parseInt(h.value,10),parseInt(m.value,10),0,0,0,0);return new Date(E.value,parseInt(b.value,10),parseInt(o.value,10),0,0,0,0)<t}function ue(){const t=m.value,l=h.value,v=d.value;m.value=o.value,h.value=b.value,d.value=E.value,o.value=t,b.value=l,E.value=v}function O(t){if(!t.relatedTarget)return;const l=t.relatedTarget;f.value?.contains(l)||ae()}function ae(){se()&&ue();const t=parseInt(m.value,10),l=parseInt(h.value,10),v=parseInt(o.value,10),ne=parseInt(b.value,10);e.rangeMode?a.sendEvent(new ye(e.inputValue,JSON.stringify({d:t,m:l,y:d.value}),e.endInputValue,JSON.stringify({d:v,m:ne,y:E.value}),0,ee())):a.sendEvent(new ie(e.inputValue,0,ee(),JSON.stringify({d:t,m:l,y:d.value})))}return(t,l)=>(p(),ge($e,{label:t.label,error:t.errorText,help:t.supportingText,disabled:t.disabled,"no-hover-effect":!0},{default:Me(()=>[n("div",Ne,[n("div",{ref_key:"datepickerInputContainer",ref:f},[$.value?(p(),g(x,{key:0},[n("select",{value:m.value,onInput:Y,onBlur:O,class:"cursor-pointer bg-transparent","aria-label":t.rangeMode?"Startdatum Tag auswählen":"Datum Tag auswählen",onClick:l[0]||(l[0]=F(()=>{},["stop"]))},[(p(!0),g(x,null,R(M.value,v=>(p(),g("option",{value:S(v),key:v},A(S(v)),9,Oe))),128))],40,Ae),l[8]||(l[8]=n("span",{"aria-hidden":"true"},".",-1)),n("select",{value:h.value,onInput:Z,onBlur:O,class:"cursor-pointer bg-transparent","aria-label":t.rangeMode?"Startdatum Monat auswählen":"Datum Monat auswählen",onClick:l[1]||(l[1]=F(()=>{},["stop"]))},[(p(),g(x,null,R(12,v=>n("option",{value:S(v),key:v},A(S(v)),9,ze)),64))],40,Fe),l[9]||(l[9]=n("span",{"aria-hidden":"true"},".",-1)),n("input",{value:d.value,type:"text",inputmode:"numeric",class:"bg-transparent w-12","aria-label":t.rangeMode?"Startdatum Jahr eingeben":"Datum Jahr eingeben",onBlur:T,onClick:l[2]||(l[2]=F(()=>{},["stop"]))},null,40,Pe)],64)):z("",!0),$.value&&t.rangeMode?(p(),g(x,{key:1},[l[10]||(l[10]=n("span",{class:"mr-2"},"-",-1)),n("select",{value:o.value,onInput:K,onBlur:O,class:"cursor-pointer bg-transparent","aria-label":"Enddatum Tag auswählen",onClick:l[3]||(l[3]=F(()=>{},["stop"]))},[(p(!0),g(x,null,R(V.value,v=>(p(),g("option",{value:S(v),key:v},A(S(v)),9,Je))),128))],40,Re),l[11]||(l[11]=n("span",{"aria-hidden":"true"},".",-1)),n("select",{value:b.value,onInput:c,onBlur:O,class:"cursor-pointer bg-transparent","aria-label":"Enddatum Monat auswählen",onClick:l[4]||(l[4]=F(()=>{},["stop"]))},[(p(),g(x,null,R(12,v=>n("option",{value:S(v),key:v},A(S(v)),9,Ke)),64))],40,je),l[12]||(l[12]=n("span",{"aria-hidden":"true"},".",-1)),n("input",{value:E.value,type:"text",inputmode:"numeric",class:"bg-transparent w-12","aria-label":"Enddatum Jahr eingeben",onBlur:q,onClick:l[5]||(l[5]=F(()=>{},["stop"]))},null,40,He)],64)):z("",!0)],512),$.value?z("",!0):(p(),g("p",Ue,A(t.$t("datepicker.select")),1)),n("div",We,[n("div",{class:"cursor-pointer hover:text-I0",tabindex:"0",onClick:l[6]||(l[6]=v=>t.$emit("showDatepicker")),onKeydown:l[7]||(l[7]=L(v=>t.$emit("showDatepicker"),["enter"])),role:"button","aria-label":P.value},[J(C(Le),{class:"w-4","aria-hidden":"true"})],40,Ze)])])]),_:1},8,["label","error","help","disabled"]))}}),Ge={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function Qe(y,e){return p(),g("svg",Ge,e[0]||(e[0]=[n("path",{fill:"currentColor",d:"M19.5 12a2.3 2.3 0 0 1-.78 1.729L7.568 23.54a1.847 1.847 0 0 1-2.439-2.773l9.752-8.579a.25.25 0 0 0 0-.376L5.129 3.233A1.847 1.847 0 0 1 7.568.46l11.148 9.808A2.31 2.31 0 0 1 19.5 12"},null,-1)]))}const pe={render:Qe},Xe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function et(y,e){return p(),g("svg",Xe,e[0]||(e[0]=[n("path",{fill:"currentColor",d:"M16.147 1.952h-3.909a1.5 1.5 0 0 0 0 3h3.909a4.852 4.852 0 1 1 0 9.7h-9.01a.25.25 0 0 1-.25-.25V11.27a1 1 0 0 0-1.707-.707L.293 15.449a1 1 0 0 0 0 1.414L5.18 21.75a1 1 0 0 0 1.707-.707v-3.137a.25.25 0 0 1 .25-.25h9.01a7.852 7.852 0 1 0 0-15.7Z"},null,-1)]))}const tt={render:et},at={class:"flex justify-between items-center gap-x-2"},nt={class:"truncate"},lt=re({__name:"DatepickerHeader",props:{label:{}},emits:["close"],setup(y,{expose:e}){const a=le("closeButton");return e({closeButton:a}),(f,d)=>(p(),g("div",null,[n("div",at,[n("p",nt,A(f.label??""),1),n("div",{ref_key:"closeButton",ref:a,class:"flex justify-center items-center cursor-pointer rounded-full size-8 shrink-0 grow-0",tabindex:"0","aria-label":"Dialog schließen",onClick:d[0]||(d[0]=h=>f.$emit("close")),onKeydown:d[1]||(d[1]=L(h=>f.$emit("close"),["enter"]))},[J(C(_e),{class:"h-4","aria-hidden":"true"})],544)]),d[2]||(d[2]=n("div",{class:"border-b border-b-primary mt-2"},null,-1))]))}});var k=(y=>(y[y.SELECT_START=0]="SELECT_START",y[y.SELECT_END=1]="SELECT_END",y[y.COMPLETE=2]="COMPLETE",y))(k||{});/*!
 * weeknumber
 * @author commenthol
 * @license Unlicense
 */const rt=6e4,st=6048e5,ut=(y,e)=>(y.getTimezoneOffset()-e.getTimezoneOffset())*rt,fe=(y=new Date)=>{const e=(y.getDay()+6)%7,a=new Date(y);a.setDate(y.getDate()-e+3);const f=new Date(a.getFullYear(),0,1);return f.getDay()!==4&&f.setMonth(0,1+(11-f.getDay())%7),1+Math.floor((a-f+ut(f,a))/st)},I=new Map;I.set(0,"Januar");I.set(1,"Februar");I.set(2,"März");I.set(3,"April");I.set(4,"Mai");I.set(5,"Juni");I.set(6,"Juli");I.set(7,"August");I.set(8,"September");I.set(9,"Oktober");I.set(10,"November");I.set(11,"Dezember");const ot=["onKeydown"],it={class:"relative bg-M1 rounded-xl shadow-lg p-6 z-10"},dt={class:"h-[23rem]"},ct={class:"datepicker-months"},vt={class:"flex justify-between items-center mb-4 h-8"},pt=["tabindex"],ft={class:"flex justify-center items-center basis-2/3 text-lg h-full"},ht={class:"basis-1/2 shrink-0 grow-0 h-full"},gt=["value","onChange"],yt=["value"],mt={class:"basis-1/2 shrink-0 grow-0 h-full"},bt=["value","onKeydown","onChange","onBlur"],St={class:"datepicker-grid grid grid-cols-7 gap-y-2 text-center leading-none"},Dt=["tabindex","onClick","onKeydown"],Et={class:"select-none"},Mt={key:0,class:"mt-2"},wt={key:1,class:"mt-2"},kt={class:"footer"},Ct={key:0,class:"actions"},Tt={class:"actions"},It=["disabled"],X=1583,$t=re({__name:"DatepickerOverlay",props:{rangeMode:{type:Boolean},doubleMode:{type:Boolean},label:{},selectedStartDay:{},selectedStartMonth:{},selectedStartYear:{},selectedEndDay:{},selectedEndMonth:{},selectedEndYear:{},rangeSelectionState:{}},emits:["close","select","submitSelection","clearSelection"],setup(y,{emit:e}){const a=y,f=e,{t:d}=we(),h=le("datepickerHeader"),m=le("confirmButton"),E=w(),b=new Date,o=w(a.selectedStartMonth-1),M=w(a.selectedStartYear),V=w(null),$=w(null),P=a.doubleMode?2:1,j=N(()=>!a.selectedStartYear||!a.selectedStartMonth||!a.selectedStartDay?new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0,0):new Date(a.selectedStartYear,a.selectedStartMonth-1,a.selectedStartDay,0,0,0,0)),S=N(()=>!a.selectedEndYear||!a.selectedEndMonth||!a.selectedEndDay?new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0,0):new Date(a.selectedEndYear,a.selectedEndMonth-1,a.selectedEndDay,0,0,0,0)),Y=N(()=>o.value===0&&M.value===X);function K(s){return(o.value+s)%12}function Z(s){return M.value+(o.value+s>11?1:0)}function c(s,r){const u=s.target;if(!u)return;const i=parseInt(u.value,10)-r;i<0?(o.value=o.value+12,M.value--):o.value=i}function T(s,r){const u=s.target;!u||!u.valueAsNumber||(console.warn(r,u.valueAsNumber,Math.max(X,u.valueAsNumber-(o.value-r<0?1:0))),M.value=Math.max(X,u.valueAsNumber-(o.value-r<0?1:0)))}function q(s,r){(V.value===null||r>V.value)&&(V.value=r,$.value=s)}function B(s){const r=[],u=o.value+s,i=M.value+(u>11?1:0),H=new Date(i,u,1),U=new Date(i,u+1,0),D=new Date(H);for(;D.getDay()!==1;)D.setDate(D.getDate()-1);for(;D<=U||fe(D)===fe(U);){const Se=D.getDay()===0?7:D.getDay(),G=D.getDate(),De=se(G,D.getMonth(),D.getFullYear());let de=!1,ce=!1;a.rangeMode&&(de=ue(G,D.getMonth(),D.getFullYear()),ce=O(G,D.getMonth(),D.getFullYear()));const Ee=te(G,D.getMonth(),D.getFullYear());r.push({dayOfWeek:Se,dayOfMonth:G,monthIndex:D.getMonth(),year:D.getFullYear(),selectedStart:De,selectedEnd:de,withinRange:ce,selectable:Ee,otherMonth:D.getMonth()!==u}),D.setDate(D.getDate()+1)}return r}function te(s,r,u){return u>=X}function se(s,r,u){return s===a.selectedStartDay&&r===a.selectedStartMonth-1&&u===a.selectedStartYear}function ue(s,r,u){return a.rangeSelectionState!==k.SELECT_END&&s===a.selectedEndDay&&r===a.selectedEndMonth-1&&u===a.selectedEndYear}function O(s,r,u){if(a.rangeSelectionState===k.SELECT_END||!a.selectedStartYear||!a.selectedStartMonth||!a.selectedStartDay)return!1;const i=new Date(u,r,s,0,0,0,0);return j.value<=i&&i<=S.value}function ae(){Y.value||(o.value===0?(o.value=11,M.value--):o.value--)}function t(){o.value===11?(o.value=0,M.value++):o.value++}function l(s){s.selectable&&(f("select",s.dayOfMonth,s.monthIndex,s.year),a.rangeMode||f("close"))}function v(s){document.activeElement===ne()&&(s.preventDefault(),h.value?.closeButton?.focus())}function ne(){return a.rangeSelectionState===k.COMPLETE?m.value:$.value instanceof HTMLElement?$.value:null}function me(s){document.activeElement===h.value?.closeButton&&(s.preventDefault(),ne()?.focus())}function be(){f("clearSelection"),h.value?.closeButton?.focus()}function oe(){for(let s=1;s<=P;s++)if(a.selectedStartYear===M.value&&a.selectedStartMonth===o.value+s)return;o.value=a.selectedStartMonth-1,M.value=a.selectedStartYear}return _(()=>a.selectedStartYear,oe),_(()=>a.selectedStartMonth,oe),_(()=>a.selectedStartDay,oe),(s,r)=>(p(),g("div",{ref_key:"datepicker",ref:E,class:Q(["datepicker",{"double-mode":s.doubleMode}]),onKeydown:[L(F(v,["exact"]),["tab"]),L(F(me,["shift"]),["tab"]),r[3]||(r[3]=L(u=>s.$emit("close"),["esc"]))]},[n("div",it,[n("div",dt,[J(lt,{ref_key:"datepickerHeader",ref:h,label:s.label,class:"mb-4",onClose:r[0]||(r[0]=u=>f("close"))},null,8,["label"]),n("div",ct,[(p(!0),g(x,null,R(C(P),u=>(p(),g("div",{key:`date_picker_month_${u}`,class:"datepicker-content"},[n("div",vt,[n("button",{class:Q(["flex justify-center items-center rounded-full size-8",{"opacity-50":Y.value&&u===1,"hover:bg-I0/15 cursor-pointer":!Y.value,"opacity-0 pointer-events-none":u!==1}]),tabindex:Y.value?"-1":"0",onClick:ae,onKeydown:L(ae,["enter"])},[J(C(pe),{class:"rotate-180 h-4"})],42,pt),n("div",ft,[n("div",ht,[n("select",{value:K(u-1),class:"hover:bg-I0/15 border-0 bg-M1 text-right cursor-pointer rounded-l-md select-none w-full h-full pr-0.5 pt-px",onChange:i=>c(i,u-1)},[(p(!0),g(x,null,R(C(I).entries(),(i,H)=>(p(),g("option",{key:H,value:i[0]},A(i[1]),9,yt))),128))],40,gt)]),n("div",mt,[n("input",{value:Z(u-1),type:"number",step:"1",min:X,class:"hover:bg-I0/15 border-0 bg-M1 rounded-r-md text-left w-full h-full appearance-none pl-0.5",onKeydown:L(i=>T(i,u-1),["enter"]),onChange:i=>T(i,u-1),onBlur:i=>T(i,u-1)},null,40,bt)])]),n("button",{class:Q(["hover:bg-I0/15 flex justify-center items-center cursor-pointer rounded-full size-8",u!==C(P)?"opacity-0 pointer-events-none":""]),tabindex:"0",onClick:t,onKeydown:L(t,["enter"])},[J(C(pe),{class:"h-4"})],34)]),n("div",St,[r[4]||(r[4]=n("span",null,"Mo",-1)),r[5]||(r[5]=n("span",null,"Di",-1)),r[6]||(r[6]=n("span",null,"Mi",-1)),r[7]||(r[7]=n("span",null,"Do",-1)),r[8]||(r[8]=n("span",null,"Fr",-1)),r[9]||(r[9]=n("span",null,"Sa",-1)),r[10]||(r[10]=n("span",null,"So",-1)),(p(!0),g(x,null,R(B(u-1),(i,H)=>(p(),g("div",{key:H,class:Q(["relative flex justify-center items-center h-full w-full",{"within-range-day":i.withinRange,"selected-start-day-container":i.selectedStart,"selected-end-day-container":i.selectedEnd,"other-month-day":i.otherMonth}])},[n("div",{ref_for:!0,ref:U=>q(U,H),class:Q(["day flex justify-center items-center",{"hover:bg-I0/15 cursor-pointer":i.selectable,"unselectable-day":!i.selectable,"selected-day":i.selectedStart||i.selectedEnd,"text-disabled-text":!i.withinRange&&i.monthIndex!==K(u-1)}]),tabindex:i.selectable?"0":"-1",onClick:U=>l(i),onKeydown:L(U=>l(i),["enter"])},[n("span",Et,A(i.dayOfMonth),1)],42,Dt)],2))),128))])]))),128))])]),s.rangeMode?(p(),g(x,{key:0},[s.rangeSelectionState===C(k).SELECT_START?(p(),g("p",Mt," Bitte wählen Sie einen Startzeitpunkt aus ")):s.rangeSelectionState===C(k).SELECT_END?(p(),g("p",wt," Bitte wählen Sie einen Endzeitpunkt aus ")):s.rangeSelectionState===C(k).COMPLETE?(p(),g("button",{key:2,class:"flex justify-start items-center gap-x-2 text-I0 underline mt-2",onClick:be},[J(C(tt),{class:"h-4","aria-hidden":"true"}),r[11]||(r[11]=ke(" Auswahl zurücksetzen "))])):z("",!0),r[12]||(r[12]=n("div",{class:"border-b border-b-disabled-background mt-3 mb-6"},null,-1)),n("div",kt,[s.doubleMode?(p(),g("div",Ct)):z("",!0),n("div",Tt,[n("button",{ref_key:"confirmButton",ref:m,class:"button-confirm button-primary",disabled:s.rangeSelectionState===C(k).SELECT_END,onClick:r[1]||(r[1]=u=>f("submitSelection"))},A(C(d)("datepicker.confirm")),9,It)])])],64)):z("",!0)]),n("div",{class:"absolute top-0 left-0 bottom-0 right-0 bg-opacity-60 bg-black z-0",onClick:r[2]||(r[2]=u=>f("close"))})],42,ot))}}),Yt=Ce($t,[["__scopeId","data-v-91954f0e"]]),Ot=re({__name:"UiDatepicker",props:{ui:{}},setup(y){const e=y,a=he(),f=w(!1),d=w(0),h=w(0),m=w(0),E=w(0),b=w(0),o=w(0),M=w(k.SELECT_START);Te($);const V=N(()=>xe(e.ui.frame).join(";"));_(()=>e.ui,$);function $(){e.ui.value===void 0&&(e.ui.value=new ve),d.value=e.ui.value.day?e.ui.value.day:0,h.value=e.ui.value.month?e.ui.value.month:0,m.value=e.ui.value.year?e.ui.value.year:0,e.ui.endValue===void 0&&(e.ui.endValue=new ve),E.value=e.ui.endValue.day?e.ui.endValue.day:0,b.value=e.ui.endValue.month?e.ui.endValue.month:0,o.value=e.ui.endValue.year?e.ui.endValue.year:0,M.value=k.SELECT_START}function P(){!e.ui.disabled&&!f.value&&(M.value=k.SELECT_START,f.value=!0)}function j(){f.value=!1,$()}function S(c,T,q){const B=new Date(q,T,c,0,0,0,0);if(e.ui.style===W.DatePickerSingleDate){Y(B);return}switch(M.value){case k.SELECT_START:Y(B);break;case k.SELECT_END:K(B);break;case k.COMPLETE:Y(B);break}}function Y(c){d.value=c.getDate(),h.value=c.getMonth()+1,m.value=c.getFullYear(),e.ui.style!==W.DatePickerDateRange?a.sendEvent(new ie(e.ui.inputValue,0,ee(),JSON.stringify({d:d.value,m:h.value,y:m.value}))):M.value=k.SELECT_END}function K(c){c.setHours(0,0,0,0);const T=new Date(m.value,h.value-1,d.value,0,0,0,0);c<T?(d.value=c.getDate(),h.value=c.getMonth()+1,m.value=c.getFullYear(),E.value=T.getDate(),b.value=T.getMonth()+1,o.value=T.getFullYear()):(E.value=c.getDate(),b.value=c.getMonth()+1,o.value=c.getFullYear()),M.value=k.COMPLETE}function Z(){switch(f.value=!1,e.ui.style){case W.DatePickerSingleDate:{a.sendEvent(new ie(e.ui.inputValue,0,ee(),JSON.stringify({d:d.value,m:h.value,y:m.value})));return}case W.DatePickerDateRange:{a.sendEvent(new ye(e.ui.inputValue,JSON.stringify({d:d.value,m:h.value,y:m.value}),e.ui.endInputValue,JSON.stringify({d:E.value,m:b.value,y:o.value}),0,ee()));return}default:throw"unknown date picker style"}}return(c,T)=>c.ui.invisible?z("",!0):(p(),g("div",{key:0,class:"relative",style:Ie(V.value)},[J(qe,{value:c.ui.value,label:c.ui.label,"error-text":c.ui.errorText,"supporting-text":c.ui.supportingText,disabled:c.ui.disabled,"datepicker-style":c.ui.style,"datepicker-expanded":f.value,"selected-start-year":m.value,"selected-start-month":h.value,"selected-start-day":d.value,"selected-end-year":o.value,"selected-end-month":b.value,"selected-end-day":E.value,"range-mode":c.ui.style===C(W).DatePickerDateRange,"input-value":c.ui.inputValue,"end-input-value":c.ui.endInputValue,onShowDatepicker:P},null,8,["value","label","error-text","supporting-text","disabled","datepicker-style","datepicker-expanded","selected-start-year","selected-start-month","selected-start-day","selected-end-year","selected-end-month","selected-end-day","range-mode","input-value","end-input-value"]),f.value?(p(),ge(Yt,{key:0,"range-mode":c.ui.style===C(W).DatePickerDateRange,"double-mode":c.ui.doubleMode,label:c.ui.label,"selected-start-day":d.value,"selected-start-month":h.value,"selected-start-year":m.value,"selected-end-day":E.value,"selected-end-month":b.value,"selected-end-year":o.value,"range-selection-state":M.value,onClose:j,onSelect:S,onSubmitSelection:Z,onClearSelection:$},null,8,["range-mode","double-mode","label","selected-start-day","selected-start-month","selected-start-year","selected-end-day","selected-end-month","selected-end-year","range-selection-state"])):z("",!0)],4))}});export{Ot as default};
