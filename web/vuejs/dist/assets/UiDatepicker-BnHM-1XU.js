import{c as D,o as M,b as l,d as J,H as $,e as R,v as O,t as k,N as Q,r as y,w as q,g as _,a as B,y as T,P as Z,F as j,k as K,J as G,n as W,_ as X,u as ee,m as te,Q as S,R as L,x as ae,h as ne,U,f as A,S as le}from"./index-BPbXBKD4.js";import{C as se}from"./closeBold-i83SHsHZ.js";import{_ as re}from"./InputWrapper.vue_vue_type_style_index_0_lang-CmG8X6AX.js";import{f as oe}from"./frame-BFmZ95SY.js";import"./length-CE-uc3jn.js";const ue={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function ie(C,t){return M(),D("svg",ue,t[0]||(t[0]=[l("path",{fill:"currentColor",d:"M7.5 10.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M12.5 10.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2M17.5 10.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2M7.5 14.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M12.5 14.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M17.5 14.5h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 0-2M7.5 18.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2M12.5 18.5h-1a1 1 0 0 0 0 2h1a1 1 0 1 0 0-2M17.5 18.5h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2"},null,-1),l("path",{fill:"currentColor",d:"M21.5 3h-2.75a.25.25 0 0 1-.25-.25V1a1 1 0 0 0-2 0v4.75a.75.75 0 1 1-1.5 0V3.5a.5.5 0 0 0-.5-.5H8.25A.25.25 0 0 1 8 2.751V1a1 1 0 1 0-2 0v4.75a.75.75 0 1 1-1.5 0V3.5A.5.5 0 0 0 4 3H2.5a2 2 0 0 0-2 2v17a2 2 0 0 0 2 2h19a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m0 18.5a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5v-12A.5.5 0 0 1 3 9h18a.5.5 0 0 1 .5.5Z"},null,-1)]))}const de={render:ie},ce={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function ve(C,t){return M(),D("svg",ce,t[0]||(t[0]=[l("path",{fill:"currentColor",d:"M19.5 12a2.3 2.3 0 0 1-.78 1.729L7.568 23.54a1.847 1.847 0 0 1-2.439-2.773l9.752-8.579a.25.25 0 0 0 0-.376L5.129 3.233A1.847 1.847 0 0 1 7.568.46l11.148 9.808A2.31 2.31 0 0 1 19.5 12"},null,-1)]))}const H={render:ve},fe={class:"flex justify-between items-center gap-x-2"},ye={class:"truncate"},he=J({__name:"DatepickerHeader",props:{label:{}},emits:["close"],setup(C){return(t,s)=>(M(),D("div",null,[l("div",fe,[l("p",ye,$(t.label??""),1),l("div",{class:"effect-hover flex justify-center items-center cursor-pointer rounded-full size-8 shrink-0 grow-0",tabindex:"0",onClick:s[0]||(s[0]=v=>t.$emit("close")),onKeydown:s[1]||(s[1]=R(v=>t.$emit("close"),["enter"]))},[O(k(se),{class:"h-4"})],32)]),s[2]||(s[2]=l("div",{class:"border-b border-b-primary mt-2"},null,-1))]))}}),h=new Map;h.set(0,"Januar");h.set(1,"Februar");h.set(2,"MÃ¤rz");h.set(3,"April");h.set(4,"Mai");h.set(5,"Juni");h.set(6,"Juli");h.set(7,"August");h.set(8,"September");h.set(9,"Oktober");h.set(10,"November");h.set(11,"Dezember");const me={class:"relative bg-M1 rounded-xl shadow-lg max-w-96 p-6 z-10"},pe={class:"h-[23rem]"},ge={class:"flex justify-between items-center mb-4 h-8"},De={class:"flex justify-center items-center basis-2/3 gap-x-px text-lg h-full"},Me={class:"basis-1/2 shrink-0 grow-0 h-full"},be=["value"],Se={class:"basis-1/2 shrink-0 grow-0 h-full"},we={class:"datepicker-grid grid grid-cols-7 gap-y-2 text-center leading-none"},xe=["onClick","onKeydown"],ke={class:"select-none"},Oe=["disabled"],Ce=J({__name:"DatepickerOverlay",props:{expanded:{type:Boolean},rangeMode:{type:Boolean},label:{},startDateSelected:{type:Boolean},selectedStartDay:{},selectedStartMonth:{},selectedStartYear:{},endDateSelected:{type:Boolean},selectedEndDay:{},selectedEndMonth:{},selectedEndYear:{}},emits:["close","select","submitSelection"],setup(C,{emit:t}){const s=C,v=t,{t:p}=Q(),g=y(),m=new Date(Date.now()),c=y(m.getFullYear()),u=y(m.getMonth()),f=y(c.value.toString(10));q(f,(n,e)=>{n.match(/^[1-9][0-9]{0,3}$/)?c.value=parseInt(n,10):f.value=e});const b=_(()=>new Date(s.selectedStartYear,s.selectedStartMonth-1,s.selectedStartDay,0,0,0,0)),w=_(()=>new Date(s.selectedEndYear,s.selectedEndMonth-1,s.selectedEndDay,0,0,0,0)),N=_(()=>{var a;const n=[];n.push(...P()),n[0].dayOfWeek!==1&&n.unshift(...Y());const e=(a=n.at(-1))==null?void 0:a.dayOfWeek;return e!==void 0&&e!==7&&n.push(...F(e)),n});function P(){const n=[],a=new Date(c.value,u.value+1,0,0,0,0,0).getDate();for(let i=1;i<=a;i++){const o=new Date(c.value,u.value,i,0,0,0,0),r={dayOfWeek:o.getDay()===0?7:o.getDay(),dayOfMonth:i,monthIndex:u.value,year:c.value,selectedStart:!1,selectedEnd:!1,withinRange:!1};r.selectedStart=V(r.dayOfMonth,r.monthIndex,r.year),r.selectedEnd=I(r.dayOfMonth,r.monthIndex,r.year),r.withinRange=x(r.dayOfMonth,r.monthIndex,r.year),n.push(r)}return n}function Y(){const n=[],e=new Date(c.value,u.value,0,0,0,0,0),a=e.getDay()===0?7:e.getDay(),i=e.getDate();for(let o=0;o<a;o++){e.setDate(i-o);const r={dayOfWeek:e.getDay()===0?7:e.getDay(),dayOfMonth:i-o,monthIndex:e.getMonth(),year:e.getFullYear(),selectedStart:!1,selectedEnd:!1,withinRange:!1};r.selectedStart=V(r.dayOfMonth,r.monthIndex,r.year),r.selectedEnd=I(r.dayOfMonth,r.monthIndex,r.year),r.withinRange=x(r.dayOfMonth,r.monthIndex,r.year),n.unshift(r)}return n}function F(n){const e=[];let a;u.value+1===12?a=new Date(c.value+1,0,1,0,0,0,0):a=new Date(c.value,u.value+1,1,0,0,0,0);for(let i=1;i<=7-n;i++){a.setDate(i);const o={dayOfWeek:a.getDay()===0?7:a.getDay(),dayOfMonth:a.getDate(),monthIndex:a.getMonth(),year:a.getFullYear(),selectedStart:!1,selectedEnd:!1,withinRange:!1};o.selectedStart=V(o.dayOfMonth,o.monthIndex,o.year),o.selectedEnd=I(o.dayOfMonth,o.monthIndex,o.year),o.withinRange=x(o.dayOfMonth,o.monthIndex,o.year),e.push(o)}return e}function V(n,e,a){return s.startDateSelected&&n===s.selectedStartDay&&e===s.selectedStartMonth-1&&a===s.selectedStartYear}function I(n,e,a){return s.endDateSelected&&n===s.selectedEndDay&&e===s.selectedEndMonth-1&&a===s.selectedEndYear}function x(n,e,a){if(!s.startDateSelected||!s.endDateSelected)return!1;const i=new Date(a,e,n,0,0,0,0);return b.value<=i&&i<=w.value}function E(){if(u.value===0){u.value=11,c.value-=1,f.value=c.value.toString(10);return}u.value-=1}function z(){if(u.value===11){u.value=0,c.value+=1,f.value=c.value.toString(10);return}u.value+=1}function d(n){v("select",n.dayOfMonth,n.monthIndex,n.year),s.rangeMode||v("close")}return(n,e)=>n.expanded?(M(),D("div",{key:0,ref_key:"datepicker",ref:g,class:"fixed top-0 left-0 bottom-0 right-0 flex justify-center items-center z-30"},[l("div",me,[l("div",pe,[O(he,{label:n.label,onClose:e[0]||(e[0]=a=>v("close")),class:"mb-4"},null,8,["label"]),l("div",ge,[l("div",{class:"effect-hover flex justify-center items-center cursor-pointer rounded-full size-8",tabindex:"0",onClick:E,onKeydown:R(E,["enter"])},[O(k(H),{class:"rotate-180 h-4"})],32),l("div",De,[l("div",Me,[T(l("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a),class:"effect-hover border-0 bg-M1 text-right cursor-pointer rounded-l-md w-full h-full px-2"},[(M(!0),D(j,null,K(k(h).entries(),(a,i)=>(M(),D("option",{key:i,value:a[0]},$(a[1]),9,be))),128))],512),[[Z,u.value]])]),l("div",Se,[T(l("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>f.value=a),type:"text",class:"effect-hover border-0 bg-M1 rounded-r-md text-left w-full h-full px-2"},null,512),[[G,f.value]])])]),l("div",{class:"effect-hover flex justify-center items-center cursor-pointer rounded-full size-8",tabindex:"0",onClick:z,onKeydown:R(z,["enter"])},[O(k(H),{class:"h-4"})],32)]),l("div",we,[e[5]||(e[5]=l("span",null,"Mo",-1)),e[6]||(e[6]=l("span",null,"Di",-1)),e[7]||(e[7]=l("span",null,"Mi",-1)),e[8]||(e[8]=l("span",null,"Do",-1)),e[9]||(e[9]=l("span",null,"Fr",-1)),e[10]||(e[10]=l("span",null,"Sa",-1)),e[11]||(e[11]=l("span",null,"So",-1)),(M(!0),D(j,null,K(N.value,(a,i)=>(M(),D("div",{key:i,class:W(["relative flex justify-center items-center h-full w-full",{"within-range-day":a.withinRange,"selected-start-day-container":a.selectedStart,"selected-end-day-container":a.selectedEnd}])},[l("div",{class:W(["day effect-hover flex justify-center items-center cursor-pointer",{"selected-day":a.selectedStart||a.selectedEnd,"text-disabled-text":!a.withinRange&&a.monthIndex!==u.value}]),tabindex:"0",onClick:o=>d(a),onKeydown:R(o=>d(a),["enter"])},[l("span",ke,$(a.dayOfMonth),1)],42,xe)],2))),128))])]),n.rangeMode?(M(),D(j,{key:0},[e[12]||(e[12]=l("div",{class:"border-b border-b-disabled-background mt-3 mb-6"},null,-1)),l("button",{class:"button-confirm button-primary",disabled:!n.startDateSelected||!n.endDateSelected,onClick:e[3]||(e[3]=a=>v("submitSelection"))},$(k(p)("datepicker.confirm")),9,Oe)],64)):B("",!0)]),l("div",{class:"absolute top-0 left-0 bottom-0 right-0 bg-opacity-60 bg-black z-0",onClick:e[4]||(e[4]=a=>v("close"))})],512)):B("",!0)}}),Ee=X(Ce,[["__scopeId","data-v-5254019e"]]),Ve={class:"absolute top-0 bottom-0 right-4 flex items-center pointer-events-none h-full"},Ye=J({__name:"UiDatepicker",props:{ui:{}},setup(C){const t=C,s=ee(),v=y(!1),p=y(0),g=y(0),m=y(0),c=y(!1),u=y(0),f=y(0),b=y(0),w=y(!1);te(Y);const N=_(()=>oe(t.ui.frame).join(";")),P=_(()=>{if(!t.ui.value||!t.ui.value.year)return null;const d=new Date;if(d.setFullYear(m.value,g.value-1,p.value),t.ui.style!==S.DatePickerDateRange)return d.toLocaleDateString();const n=new Date;return n.setFullYear(b.value,f.value-1,u.value),`${d.toLocaleDateString()} - ${n.toLocaleDateString()}`});q(()=>t.ui,Y);function Y(){t.ui.value===void 0&&(t.ui.value=new L),p.value=t.ui.value.day?t.ui.value.day:0,g.value=t.ui.value.month?t.ui.value.month:0,m.value=t.ui.value.year?t.ui.value.year:0,c.value=t.ui.style==S.DatePickerDateRange&&m.value!=0,t.ui.endValue===void 0&&(t.ui.endValue=new L),u.value=t.ui.endValue.day?t.ui.endValue.day:0,f.value=t.ui.endValue.month?t.ui.endValue.month:0,b.value=t.ui.endValue.year?t.ui.endValue.year:0,w.value=t.ui.style==S.DatePickerDateRange&&b.value!=0,(t.ui.style==S.DatePickerSingleDate||t.ui.style===void 0)&&(c.value=!0,w.value=!0)}function F(){!t.ui.disabled&&!v.value&&(v.value=!0)}function V(){v.value=!1}function I(d,n,e){const a=new Date(e,n,d,0,0,0,0);if(t.ui.style!=S.DatePickerDateRange||!c.value){x(a);return}const i=new Date(m.value,g.value-1,p.value,0,0,0,0);if(a.getTime()>i.getTime())E(a);else if(a.getTime()<i.getTime())x(a),w.value||E(i);else if(!w.value)x(a),E(a);else{const o=new Date(b.value,f.value-1,u.value,0,0,0,0);x(o)}}function x(d){p.value=d.getDate(),g.value=d.getMonth()+1,m.value=d.getFullYear(),c.value=!0,t.ui.style!==S.DatePickerDateRange&&s.sendEvent(new U(t.ui.inputValue,0,A(),JSON.stringify({d:p.value,m:g.value,y:m.value})))}function E(d){u.value=d.getDate(),f.value=d.getMonth()+1,b.value=d.getFullYear(),w.value=!0}function z(){switch(v.value=!1,t.ui.style){case S.DatePickerSingleDate:{s.sendEvent(new U(t.ui.inputValue,0,A(),JSON.stringify({d:p.value,m:g.value,y:m.value})));return}case S.DatePickerDateRange:{s.sendEvent(new le(t.ui.inputValue,JSON.stringify({d:p.value,m:g.value,y:m.value}),t.ui.endInputValue,JSON.stringify({d:u.value,m:f.value,y:b.value}),0,A()));return}default:throw"unknown date picker style"}}return(d,n)=>d.ui.invisible?B("",!0):(M(),D("div",{key:0,class:"relative",style:ne(N.value)},[O(re,{label:t.ui.label,error:t.ui.errorText,hint:t.ui.supportingText,disabled:t.ui.disabled},{default:ae(()=>[l("div",{class:"input-field relative z-0 !pr-10",tabindex:"0",onClick:F,onKeydown:R(F,["enter"])},[l("p",{class:W({"text-placeholder-text":!P.value})},$(P.value??d.$t("datepicker.select")),3),l("div",Ve,[O(k(de),{class:"w-4"})])],32)]),_:1},8,["label","error","hint","disabled"]),O(Ee,{expanded:v.value,"range-mode":t.ui.style==k(S).DatePickerDateRange,label:t.ui.label,"start-date-selected":c.value,"selected-start-day":p.value,"selected-start-month":g.value,"selected-start-year":m.value,"end-date-selected":w.value,"selected-end-day":u.value,"selected-end-month":f.value,"selected-end-year":b.value,onClose:V,onSelect:I,onSubmitSelection:z},null,8,["expanded","range-mode","label","start-date-selected","selected-start-day","selected-start-month","selected-start-year","end-date-selected","selected-end-day","selected-end-month","selected-end-year"])],4))}});export{Ye as default};
