import{d as C,r as T,m as _,q as p,s as S,g as V,c as $,i as l,o as a,t as x,v as m,x as D,y as F,b as y,h as K,j as v,z as N,T as O,B as h,a as j,C as r,e as w}from"./index-DOzC44ba.js";import{c as u}from"./length-CE-uc3jn.js";let s=0;function q(){s===0&&(document.body.style.overflow="hidden"),s++}function z(){s=Math.max(0,s-1),s===0&&(document.body.style.overflow="visible")}const E={key:0},U=["onKeydown"],L=C({__name:"UiModal",props:{ui:{}},setup(b){const o=b,c=T();let t,n;_(()=>{o.ui.allowBackgroundScrolling||q(),o.ui.modalType!==p.ModalTypeOverlay&&k()}),S(()=>{o.ui.allowBackgroundScrolling||z()});const g=V(()=>{const e=[];return o.ui.right&&e.push(`right: ${u(o.ui.right)}`),o.ui.top&&e.push(`top: ${u(o.ui.top)}`),o.ui.left&&e.push(`left: ${u(o.ui.left)}`),o.ui.bottom&&e.push(`bottom: ${u(o.ui.bottom)}`),e.join(";")});function k(){var d;const e=((d=c.value)==null?void 0:d.querySelectorAll('[tabindex="0"], button:not([tabindex="-1"])'))??[],i=e[0],f=e[e.length-1];i&&(t=i,t.focus()),f&&(n=f)}function M(e){if(!e.shiftKey&&document.activeElement===n){e.preventDefault(),t==null||t.focus();return}}function B(e){if(document.activeElement===t){e.preventDefault(),n==null||n.focus();return}}return(e,i)=>e.ui.content?e.ui.modalType==x(p).ModalTypeOverlay?(a(),l(h,{key:1,to:"#ora-overlay"},[m(O,null,{default:D(()=>[F(y("div",{class:"pointer-events-auto fixed",style:K(g.value)},[m(v,{ui:e.ui.content,class:""},null,8,["ui"])],4),[[N,e.ui.content]])]),_:1})])):(a(),l(h,{key:2,to:"#ora-modals"},[y("div",{ref_key:"dialogContainer",ref:c,class:"pointer-events-auto fixed",onKeydown:[w(r(M,["exact"]),["tab"]),w(r(B,["shift"]),["tab"])]},[e.ui.content?(a(),l(v,{key:0,ui:e.ui.content,class:"h-screen w-screen",onClick:i[0]||(i[0]=r(()=>{},["stop"]))},null,8,["ui"])):j("",!0)],40,U)])):(a(),$("div",E))}});export{L as default};
