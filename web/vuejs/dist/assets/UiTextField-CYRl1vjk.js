import{c as r,o as l,b as L,d as j,u as q,I as m,r as z,g as p,K as a,w as y,a as d,v as f,x as A,y as C,j as B,h as b,e as F,J as W,t as R,l as P,f as c,U}from"./index-BPbXBKD4.js";import{i as G,_ as J}from"./InputWrapper.vue_vue_type_style_index_0_lang-CmG8X6AX.js";import{f as H}from"./frame-BFmZ95SY.js";import"./closeBold-i83SHsHZ.js";import"./length-CE-uc3jn.js";const Q={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",viewBox:"0 0 24 24"};function X(g,e){return l(),r("svg",Q,e[0]||(e[0]=[L("path",{fill:"currentColor",d:"M23.25 23.999a.743.743 0 0 1-.53-.22L12 13.06 1.28 23.779a.744.744 0 0 1-1.06 0 .752.752 0 0 1 0-1.061l10.72-10.72L.22 1.279C.078 1.138 0 .949 0 .749S.078.36.22.219c.141-.142.33-.22.53-.22s.389.078.53.22L12 10.938 22.72.218a.744.744 0 0 1 1.06 0 .747.747 0 0 1 0 1.061l-10.72 10.72 10.72 10.72a.752.752 0 0 1 0 1.061.746.746 0 0 1-.53.219"},null,-1)]))}const Y={render:X},Z={class:"relative"},ee=["id","disabled","inputmode"],te=["id","disabled","rows"],le=j({__name:"UiTextField",props:{ui:{}},setup(g){const e=g,v=q(),x=m("leadingElement"),k=m("trailingElement"),h=m("clearButton"),i=z(e.ui.value?e.ui.value:"");let w=0;const D=p(()=>H(e.ui.frame).join(";")),E=p(()=>e.ui.id?e.ui.id:"tf-"+e.ui.inputValue),M=p(()=>{var t;switch((t=e.ui.keyboardOptions)==null?void 0:t.keyboardType){case a.KeyboardInteger:return"numeric";case a.KeyboardFloat:return"decimal";case a.KeyboardEMail:return"email";case a.KeyboardPhone:return"tel";case a.KeyboardURL:return"url";case a.KeyboardSearch:return"search"}return"text"}),T=p(()=>{var $,I,S;const t=($=x.value)==null?void 0:$.offsetWidth,n=t?`${t}px`:"auto";let u;const o=(I=k.value)==null?void 0:I.offsetWidth;if(o!==void 0)u=`${o}px`;else{const _=(S=h.value)==null?void 0:S.offsetWidth;u=_?`${_}px`:"auto"}return{"padding-left":n,"padding-right":u}});y(i,(t,n)=>{var u,o;if(t!=n){if(((u=e.ui.keyboardOptions)==null?void 0:u.keyboardType)==a.KeyboardInteger){t===""||t==="-"?i.value="0":t.match(/^-?[0-9]+$/)||(i.value=n);return}if(((o=e.ui.keyboardOptions)==null?void 0:o.keyboardType)==a.KeyboardFloat){t===""||t==="-"?i.value="0":t.match(/^[+-]?(\d+(\.\d*)?|\.\d+)$/)||(i.value=n);return}}}),y(()=>e.ui.value,t=>{t?i.value=t:i.value=""}),y(()=>e.ui,t=>{t.value?i.value=t.value:i.value=""});function N(t){e.ui.keydownEnter&&(t.stopPropagation(),v.sendEvent(new P(e.ui.keydownEnter,c())))}function s(t){if(i.value!=e.ui.value){if(c(),t||e.ui.disableDebounce){v.sendEvent(new U(e.ui.inputValue,0,c(),i.value));return}V()}}function K(){i.value="",s(!0)}function O(t){return t/1e6}function V(){let t=500;e.ui.debounceTime&&e.ui.debounceTime>0&&(t=O(e.ui.debounceTime)),clearTimeout(w),w=window.setTimeout(()=>{i.value!=e.ui.value&&v.sendEvent(new U(e.ui.inputValue,0,c(),i.value))},t)}return(t,n)=>t.ui.invisible?d("",!0):(l(),r("div",{key:0,style:b(D.value)},[f(J,{"wrapper-style":R(G)(e.ui.style),label:e.ui.label,error:e.ui.errorText,help:e.ui.supportingText,disabled:e.ui.disabled},{default:A(()=>[L("div",Z,[e.ui.leading?(l(),r("div",{key:0,ref_key:"leadingElement",ref:x,class:"absolute inset-y-0 left-0 pl-2 pr-1 flex items-center pointer-events-none"},[f(B,{ui:e.ui.leading},null,8,["ui"])],512)):d("",!0),e.ui.lines?d("",!0):C((l(),r("input",{key:1,onKeydown:F(N,["enter"]),id:E.value,"onUpdate:modelValue":n[0]||(n[0]=u=>i.value=u),class:"input-field",style:b(T.value),disabled:e.ui.disabled,type:"text",inputmode:M.value,onFocusout:n[1]||(n[1]=u=>s(!0)),onInput:n[2]||(n[2]=u=>s(!1))},null,44,ee)),[[W,i.value]]),e.ui.lines?C((l(),r("textarea",{key:2,id:E.value,"onUpdate:modelValue":n[3]||(n[3]=u=>i.value=u),class:"input-field",style:b(T.value),disabled:e.ui.disabled,type:"text",rows:e.ui.lines,onFocusout:n[4]||(n[4]=u=>s(!0)),onInput:n[5]||(n[5]=u=>s(!1))},null,44,te)),[[W,i.value]]):d("",!0),e.ui.trailing?(l(),r("div",{key:3,ref_key:"trailingElement",ref:k,class:"absolute inset-y-0 right-0 pr-2 pl-1 flex items-center pointer-events-none"},[f(B,{ui:e.ui.trailing},null,8,["ui"])],512)):i.value&&!e.ui.disabled&&!e.ui.lines?(l(),r("div",{key:4,ref_key:"clearButton",ref:h,class:"absolute inset-y-0 right-0 pr-2 pl-1 flex items-center"},[f(R(Y),{class:"w-4",tabindex:"-1",onClick:K,onKeydown:F(K,["enter"])})],512)):d("",!0)])]),_:1},8,["wrapper-style","label","error","help","disabled"])],4))}});export{le as default};
